{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[63],{\"174\":function(e,n,o){e.exports=o.p+\"pages/my/my.wxml\"},\"22\":function(e,n,o){\"use strict\";Object.defineProperty(n,\"__esModule\",{\"value\":!0});var L=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,n){var o=[],t=!0,u=!1,_=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done)&&(o.push(a.value),!n||o.length!==n);t=!0);}catch(e){u=!0,_=e}finally{try{!t&&r.return&&r.return()}finally{if(u)throw _}}return o}(e,n);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},t=function(e,n,o){return n&&defineProperties(e.prototype,n),o&&defineProperties(e,o),e};function defineProperties(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,\"value\"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var u,_,a,$=o(0),r=_interopRequireDefault($),i=o(97),m=_interopRequireDefault(o(1)),s=_interopRequireDefault(o(2)),q=_interopRequireDefault(o(4)),R=_interopRequireDefault(o(6)),j=_interopRequireDefault(o(285));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}var l=q.default.appUtils.navigateToLogin,d=(0,m.default)((function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(My,r.default.Component),t(My,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,n,o){null===e&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,n);if(void 0===t){var u=Object.getPrototypeOf(e);return null===u?void 0:get(u,n,o)}if(\"value\"in t)return t.value;var _=t.get;return void 0!==_?_.call(o):void 0})(My.prototype.__proto__||Object.getPrototypeOf(My.prototype),\"_constructor\",this).call(this,e);var n=e&&e.globalStore?e.globalStore.data.userInfo:{};this.state={\"upgradeVisible\":!1,\"id\":null,\"isLogin\":!!n.token,\"memberLevelInfo\":{},\"dialogGrade\":null,\"profitDetail\":{},\"orderCount\":[],\"userInfo\":n,\"statusBarHeight\":0,\"isOpenShare\":!1},this.$$refs=new r.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"initData\",\"value\":function initData(){this.getDialog(),this.getAccountInfo(),this.getShopMemberLevel(),this.getOrderCount()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){this.getSystemInfo();var e=this.props.globalStore.data.userInfo;this.setState({\"userInfo\":e}),e.token&&this.initData()}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){this.state.upgradeVisible&&this.setState({\"upgradeVisible\":!1})}},{\"key\":\"_createData\",\"value\":function _createData(e,n,o){var t=this;this.__state=e||this.state||{},this.__props=n||this.props||{};var u=this.$prefix,_=(0,$.genCompid)(u+\"$compid__104\"),a=L(_,2),r=a[0],i=a[1],m=(0,$.genCompid)(u+\"$compid__105\"),s=L(m,2),l=s[0],d=s[1],c=(0,$.genCompid)(u+\"$compid__106\"),y=L(c,2),p=y[0],f=y[1],g=(0,$.genCompid)(u+\"$compid__107\"),v=L(g,2),h=v[0],b=v[1],F=this.__state,I=F.upgradeVisible,S=(F.id,F.profitDetail,F.memberLevelInfo),k=(F.dialogGrade,F.orderCount,F.userInfo),C=F.statusBarHeight,x=F.isOpenShare,M=S&&S.memberLevel,w=0;S.invitationMemberNum&&(w=(S.invitationMemberNum/S.nextMemberNeedInvitationNum).toFixed(2));var O=(0,$.internal_inline_style)({\"paddingTop\":C+50+\"px\"}),D=k.token?q.default.appUtils.getFileUrl(k.headImg):R.default.common.default_photo,T=k.token?this.getCompanyId():null,B=S.invitationMemberNum&&1===M&&S.invitationMemberNum&&S.nextMemberNeedInvitationNum?(0,$.internal_inline_style)({\"left\":parseInt(205*w,10)+\"px\"}):null,N=1===M&&S.invitationMemberNum&&S.nextMemberNeedInvitationNum?parseInt(100*w,10):null,P=S.invitationMemberNum&&2===M&&S.nextMemberNeedInvitationNum?(0,$.internal_inline_style)({\"left\":parseInt(205*w,10)+\"px\"}):null,A=2===M&&S.nextMemberNeedInvitationNum?parseInt(100*w,10):null;return this.anonymousFunc0=function(){return t.goItem(\"inviterecord\")},this.anonymousFunc1=function(){return t.gotoAmountDetail(0)},this.anonymousFunc2=function(){return t.gotoAmountDetail(1)},this.anonymousFunc3=function(){return t.gotoAmountDetail(2)},this.anonymousFunc4=function(){return t.gotoOrder(0)},this.anonymousFunc5=function(){return t.gotoOrder(1)},this.anonymousFunc6=function(){return t.gotoOrder(2)},this.anonymousFunc7=function(){return t.gotoOrder(3)},this.anonymousFunc8=function(){return t.gotoAfter()},this.anonymousFunc9=function(){return t.goItem(\"collect\",\"switchTab\")},this.anonymousFunc10=function(){return t.goItem(\"address\")},this.anonymousFunc11=function(){return t.goItem(\"qrcode\")},this.anonymousFunc12=function(){return t.goItem(\"inviterecord\")},this.anonymousFunc13=function(){return t.goItem(\"setting\")},this.anonymousFunc14=function(){return t.onCancalShare()},this.anonymousFunc15=function(){return t.onCancalShare()},1===M&&S.invitationMemberNum&&S.nextMemberNeedInvitationNum&&$.propsManager.set({\"className\":j.default.silverProgress,\"percent\":N,\"color\":\"#FF590A\",\"isHidePercent\":!0,\"strokeWidth\":4},i,r),2===M&&S.nextMemberNeedInvitationNum&&$.propsManager.set({\"className\":j.default.goldProgress,\"percent\":A,\"color\":\"#FFFFFF\",\"isHidePercent\":!0,\"strokeWidth\":4},d,l),$.propsManager.set({\"isOpened\":I,\"onClose\":this.onCloseUpgrade},f,p),$.propsManager.set({\"isOpened\":x,\"onClose\":this.anonymousFunc14},b,h),this.$$refs.pushRefs([{\"type\":\"component\",\"id\":\"fizzz\",\"refName\":\"\",\"fn\":function fn(e){return t.collect=e}}]),Object.assign(this.__state,{\"anonymousState__temp\":O,\"anonymousState__temp2\":D,\"anonymousState__temp3\":T,\"anonymousState__temp4\":B,\"anonymousState__temp5\":N,\"anonymousState__temp6\":P,\"anonymousState__temp7\":A,\"$compid__104\":i,\"$compid__105\":d,\"$compid__106\":f,\"$compid__107\":b,\"styles\":j.default,\"memberLevel\":M,\"Assets\":R.default}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}},{\"key\":\"anonymousFunc13\",\"value\":function anonymousFunc13(){}},{\"key\":\"anonymousFunc14\",\"value\":function anonymousFunc14(){}},{\"key\":\"anonymousFunc15\",\"value\":function anonymousFunc15(){}}]),a=_=My,_.$$events=[\"onGotoModify\",\"showInvite\",\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc8\",\"anonymousFunc9\",\"anonymousFunc10\",\"anonymousFunc11\",\"anonymousFunc12\",\"anonymousFunc13\",\"onCloseUpgrade\",\"anonymousFunc15\"],_.$$componentPath=\"pages/my/my\",u=a))||u;function My(){var e,n,o;!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,My);for(var t=arguments.length,u=Array(t),_=0;_<t;_++)u[_]=arguments[_];return(n=o=_possibleConstructorReturn(this,(e=My.__proto__||Object.getPrototypeOf(My)).call.apply(e,[this].concat(u)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"anonymousState__temp3\",\"anonymousState__temp4\",\"anonymousState__temp5\",\"anonymousState__temp6\",\"anonymousState__temp7\",\"$compid__104\",\"$compid__105\",\"$compid__106\",\"$compid__107\",\"styles\",\"userInfo\",\"memberLevel\",\"Assets\",\"memberLevelInfo\",\"orderCount\",\"dialogGrade\",\"profitDetail\",\"upgradeVisible\",\"id\",\"isLogin\",\"statusBarHeight\",\"isOpenShare\",\"globalStore\"],o.goItem=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"navigateTo\";if(\"qrcode\"!==e){var o=i.Common.seek().equal(\"collect\"===e,\"/pages/collect/collect\").equal(\"inviterecord\"===e,\"/pages/yq-list/yq-list\").equal(\"address\"===e,\"/pages/address/address\").equal(\"setting\"===e,\"/pages/setting/setting\").get();r.default[n]({\"url\":o})}else s.default.inviter.userCode().then(function(e){e&&r.default.navigateTo({\"url\":\"/pages/my-qrcode/my-qrcode?mark=\"+e.invitationCode})})},o.getDialog=function(){s.default.common.getUpMemberMsg().then(function(e){e&&o.setState({\"id\":e.id,\"upgradeVisible\":!0,\"dialogGrade\":e.bizExtend})})},o.getAccountInfo=function(){s.default.fund.show().then(function(e){e&&o.setState({\"profitDetail\":e})})},o.getShopMemberLevel=function(){var e=o.state.userInfo.shopId;s.default.my.getShopMemberLevelInfo({\"shopId\":e}).then(function(e){var n=e.entry;\"\"+e.responseCode==\"1000010011\"?q.default.appUtils.navigateToLogin({\"params\":{\"companyId\":o.getCompanyId()},\"desc\":\"[system] file:my.jsx line:107\"}):n&&o.setState({\"memberLevelInfo\":n})})},o.getSystemInfo=function(){var e=o.props.globalStore.data.systemInfo.statusBarHeight;o.setState({\"statusBarHeight\":e})},o.gotoOrder=function(e){r.default.navigateTo({\"url\":\"/pages/my-order/my-order?index=\"+e})},o.gotoAfter=function(){r.default.navigateTo({\"url\":\"/pages/my-order/my-order?index=0&isOrder=2\"})},o.onGotoUpgrade=function(){r.default.navigateTo({\"url\":\"/pages/index/index\"})},o.onGotoModify=function(){o.state.userInfo.token?r.default.navigateTo({\"url\":\"/pages/personinfo/personinfo\"}):o.gotoLogin()},o.gotoLogin=function(){l({\"params\":{\"companyId\":o.getCompanyId()},\"desc\":\"[system] file:my.js line:193\"})},o.getOrderCount=function(){function Ba(){4<=(e+=1)&&o.setState({\"orderCount\":n})}var n=o.state.orderCount,e=0;s.default.my.getOrderCount({\"orderStatus\":0}).then(function(e){n[1]=e,Ba()}),s.default.my.getOrderCount({\"orderStatus\":1}).then(function(e){n[2]=e,Ba()}),s.default.my.getOrderCount({\"orderStatus\":2}).then(function(e){n[3]=e,Ba()}),s.default.order.afterCount().then(function(e){n[4]=e,Ba()})},o.gotoAmountDetail=function(e){r.default.navigateTo({\"url\":\"/pages/accountinfo/accountinfo?current=\"+e})},o.onShowItem=function(){o.collect.setState({\"shareVisible\":!0})},o.onCloseUpgrade=function(){var e=o.state.id;e&&s.default.common.upRead({\"id\":e}),o.setState({\"upgradeVisible\":!1})},o.showInvite=function(){o.goItem(\"qrcode\")},o.onCancalShare=function(){o.setState({\"isOpenShare\":!1})},o.config={\"navigationBarTitleText\":\"康小铺\",\"navigationStyle\":\"custom\",\"navigationBarTextStyle\":\"white\"},o.customComponents=[\"AtProgress\",\"Collectmodal\",\"AtModal\",\"AtFloatLayout\"],_possibleConstructorReturn(o,n)}n.default=d,Component(o(0).default.createComponent(d,!0))},\"270\":function(e,n,o){\"use strict\";o.r(n);o(271);var t=o(96);for(var u in t)\"default\"!==u&&function(e){o.d(n,e,function(){return t[e]})}(u)},\"271\":function(e,n,o){\"use strict\";o(174)},\"285\":function(e,n,o){e.exports={\"user_box\":\"my-module__user_box___3ISSu\",\"user_box_inner\":\"my-module__user_box_inner___2TwPo\",\"user_pic\":\"my-module__user_pic___wACDC\",\"user_photo\":\"my-module__user_photo___rUWgT\",\"name\":\"my-module__name___eaQ5Q\",\"desc\":\"my-module__desc___3B2ak\",\"id\":\"my-module__id___53kgL\",\"account_info\":\"my-module__account_info___U3d1a\",\"account_item\":\"my-module__account_item___1H76k\",\"account_type\":\"my-module__account_type___3yJV9\",\"user_info\":\"my-module__user_info___2e3kO\",\"nologinName\":\"my-module__nologinName___8Fz9e\",\"info\":\"my-module__info___2Pte3\",\"price\":\"my-module__price___1n1CU\",\"btn\":\"my-module__btn___2KiDP\",\"login_btn\":\"my-module__login_btn___11Q8w\",\"order_box\":\"my-module__order_box___26s16\",\"order_header\":\"my-module__order_header___2SQL4\",\"header_title\":\"my-module__header_title___2kvfm\",\"header_label\":\"my-module__header_label___29A_6\",\"header_arrow\":\"my-module__header_arrow___NAX0F\",\"order_list\":\"my-module__order_list___Mz6KI\",\"order_item\":\"my-module__order_item___2W6oj\",\"account_price\":\"my-module__account_price___18ysA\",\"icon\":\"my-module__icon___h9gqk\",\"list_box\":\"my-module__list_box___2-gaP\",\"list\":\"my-module__list___2OErH\",\"list_header\":\"my-module__list_header___NEB03\",\"list_icon\":\"my-module__list_icon___3osVT\",\"list_title\":\"my-module__list_title___3qvCj\",\"arrow\":\"my-module__arrow___1e0As\",\"more\":\"my-module__more___6IjhD\",\"whiteBg\":\"my-module__whiteBg___3ezvw\",\"num\":\"my-module__num___yfuDa\",\"mr\":\"my-module__mr___1BjBm\",\"order_num\":\"my-module__order_num___3pQEF\",\"levelIcon\":\"my-module__levelIcon___31kPu\",\"levelIcon_diamond\":\"my-module__levelIcon_diamond___2m8tL\",\"levelText\":\"my-module__levelText___128KU\",\"goldLevelText\":\"my-module__goldLevelText___WXVaU\",\"diamondLevelText\":\"my-module__diamondLevelText___13c06\",\"top_back\":\"my-module__top_back___13Ze-\",\"upgrade_container\":\"my-module__upgrade_container___t_Iuu\",\"upgrade_img\":\"my-module__upgrade_img___3_f5e\",\"silver_noinvite_img\":\"my-module__silver_noinvite_img___yJ_z1\",\"silver_invited_img\":\"my-module__silver_invited_img___2bVEn\",\"gold_img\":\"my-module__gold_img___1H985\",\"diamond_img\":\"my-module__diamond_img___3z5uE\",\"upgradeHeader\":\"my-module__upgradeHeader___3nhN0\",\"percentInner\":\"my-module__percentInner___19RRB\",\"innerBg\":\"my-module__innerBg___3Fb22\",\"silverProgress\":\"my-module__silverProgress___1-F98\",\"goldProgress\":\"my-module__goldProgress___1Sz3r\",\"headerTitle\":\"my-module__headerTitle___R9WUC\",\"headBtn\":\"my-module__headBtn___1wS0z\",\"diamondTitle\":\"my-module__diamondTitle___3dWu6\",\"silverBtn\":\"my-module__silverBtn___2d-5G\",\"goldbtn\":\"my-module__goldbtn___RAwEp\",\"diamondbtn\":\"my-module__diamondbtn___1GMK4\",\"headerPadding\":\"my-module__headerPadding___2x32X\",\"diamondHeader\":\"my-module__diamondHeader___3sHW2\",\"upgradeFooter\":\"my-module__upgradeFooter___xYvhg\",\"footerMargin\":\"my-module__footerMargin___354YO\",\"goldFooter\":\"my-module__goldFooter___nhrU5\",\"upgrade_tip\":\"my-module__upgrade_tip___1fvx1\",\"silverImg\":\"my-module__silverImg___1Harw\",\"img\":\"my-module__img___3BvCp\",\"close\":\"my-module__close___wW1SZ\",\"share_popup\":\"my-module__share_popup___3mZIP\",\"share_title\":\"my-module__share_title___1Fy7w\",\"cancalItem\":\"my-module__cancalItem___2aKtu\",\"cancalBtn\":\"my-module__cancalBtn___1ItTV\",\"share_container\":\"my-module__share_container___2ABxz\",\"item\":\"my-module__item___3swKE\",\"font\":\"my-module__font___Fk776\",\"imgicon\":\"my-module__imgicon___lZQ_Y\",\"reset_btn\":\"my-module__reset_btn___sao-j\"}},\"96\":function(e,n,o){\"use strict\";o.r(n);var t=o(22),u=o.n(t);for(var _ in t)\"default\"!==_&&function(e){o.d(n,e,function(){return t[e]})}(_);n.default=u.a}},[[270,0,1,2,3]]]);","extractedComments":[]}