{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[51],{\"168\":function(e,t,o){e.exports=o.p+\"pages/goodsdetail/goodsdetail.wxml\"},\"26\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var ne=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],n=!0,a=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(o.push(u.value),!t||o.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw i}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},n=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i,u,ae=o(1),d=_interopRequireDefault(ae),l=_interopRequireDefault(o(2)),m=_interopRequireDefault(o(3)),c=_interopRequireDefault(o(11)),ie=_interopRequireDefault(o(4)),ue=_interopRequireDefault(o(400)),le=_interopRequireDefault(o(10));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var s=(0,l.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Goodsdetail,d.default.Component),n(Goodsdetail,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,o)}if(\"value\"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0})(Goodsdetail.prototype.__proto__||Object.getPrototypeOf(Goodsdetail.prototype),\"_constructor\",this).call(this,e),this.state={\"currentIndex\":1,\"isOpenItem\":!1,\"isOpenShare\":!1,\"newValue\":1,\"goodsDetail\":{},\"clickItem\":[],\"defalutDetail\":[],\"defalutImgMes\":\"\",\"skuList\":[],\"agentItemId\":this.$router.params.agentItemId,\"itemId\":this.$router.params.itemId,\"bannerList\":[],\"imgList\":[],\"windowH\":\"500px\",\"companyId\":this.$router.params.companyId,\"productList\":[],\"collectStatus\":!1,\"level\":1,\"isLogin\":d.default.getStorageSync(\"userInfo\")&&d.default.getStorageSync(\"userInfo\").companyId&&d.default.getStorageSync(\"userInfo\").token,\"mark\":\"\",\"mainUrl\":\"\"},this.$$refs=new d.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getShopInfo()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,o){var u=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var n=this.$prefix,a=(0,ae.genCompid)(n+\"$compid__85\"),i=ne(a,2),l=i[0],s=i[1],r=(0,ae.genCompid)(n+\"$compid__86\"),_=ne(r,2),d=_[0],m=_[1],c=(0,ae.genCompid)(n+\"$compid__87\"),p=ne(c,2),g=p[0],f=p[1],y=(0,ae.genCompid)(n+\"$compid__88\"),I=ne(y,2),h=I[0],v=I[1],S=(0,ae.genCompid)(n+\"$compid__89\"),b=ne(S,2),F=b[0],k=b[1],$=this.__state,O=($.currentIndex,$.isOpenItem),D=$.newValue,C=$.isOpenShare,M=$.goodsDetail,L=$.defalutDetail,w=$.defalutImgMes,P=$.skuList,x=$.bannerList,V=$.imgList,B=$.windowH,T=$.productList,A=$.collectStatus,R=$.level,U=$.agentItemId,N=$.companyId,j=$.mark,G=$.mainUrl,E=(0,ae.internal_inline_style)({\"height\":O||C?\"\"+B:\"100%\"});this.anonymousFunc0=function(e){return u.handleChange(e)};var q=2==R&&0<w.maxFee?(0,ae.internal_inline_style)({\"marginLeft\":\"10px\"}):null,z=(0,ae.internal_inline_style)({\"opacity\":\"0\"});this.anonymousFunc1=function(){return u.goUrl(\"home\")};var H=(0,ae.internal_inline_style)({\"fontSize\":\"18px\"});this.anonymousFunc2=function(){return u.getCollect(A?0:1)};var Q=w&&\"ON_SALES\"==w.agentStatus?(0,ae.internal_inline_style)({\"fontSize\":\"18px\"}):null;this.anonymousFunc3=function(){return u.goUrl(\"contactn\")};var X=(0,ae.internal_inline_style)({\"fontSize\":\"18px\"});this.anonymousFunc4=function(e){return u.rightBuy(e)},this.anonymousFunc5=function(e){u.shareItem(e)},this.anonymousFunc6=function(e){return u.rightBuy(e)},this.anonymousFunc7=function(e){return u.rightBuy(e)},this.anonymousFunc8=function(){u.setState({\"isOpenItem\":!1})},this.anonymousFunc9=function(){u.setState({\"isOpenItem\":!1})};var K=(0,ae.internal_inline_style)({\"float\":\"right\"}),W=(0,ae.internal_inline_style)({\"backgroundImage\":\"url(\"+ie.default.getFileUrl(w.skuImg)+\")\"}),J=this.getValueMes(L);this.anonymousFunc11=function(e){return u.handleChangeItem(e)},this.anonymousFunc12=function(){u.setState({\"isOpenShare\":!1})};var Y=(0,ae.internal_inline_style)({\"backgroundImage\":\"url(\"+ie.default.getFileUrl(G)+\")\"});this.anonymousFunc13=function(){u.setState({\"isOpenShare\":!1})};var Z={\"code\":\"11\",\"link\":le.default.webHost+\"/#/pages/goodsdetail/goodsdetail?agentItemId=\"+U+\"&itemId=\"+M.itemId+\"&companyId=\"+N+\"&mark=\"+j},ee=(x||[]).map(function(e,t){return e={\"$original\":(0,ae.internal_get_original)(e)},{\"$loopState__temp3\":ie.default.getFileUrl(e.$original.url),\"$original\":e.$original}}),te=(V||[]).map(function(e,t){return e={\"$original\":(0,ae.internal_get_original)(e)},{\"$loopState__temp7\":ie.default.getFileUrl(e.$original.url),\"$original\":e.$original}}),oe=(P||[]).map(function(a,i){return a={\"$original\":(0,ae.internal_get_original)(a)},{\"$loopState__temp15\":i+1,\"$anonymousCallee__5\":a.$original.propertyValueList?a.$original.propertyValueList.map(function(e,t){e={\"$original\":(0,ae.internal_get_original)(e)};var o=a.$original.propertyValueList?t+1:null,n=\"eizzz\"+i+\"-\"+t;return u.anonymousFunc10Map[n]=function(){return u.clickItem(e.$original,i)},{\"$loopState__temp17\":o,\"_$indexKey\":n,\"$original\":e.$original}}):[],\"$original\":a.$original}});return ae.propsManager.set({\"data\":T},s,l),ae.propsManager.set({\"isOpened\":O,\"title\":\"\",\"onClose\":this.anonymousFunc8},m,d),ae.propsManager.set({\"min\":1,\"max\":w.stockQty,\"step\":1,\"value\":D,\"onChange\":this.anonymousFunc11},f,g),ae.propsManager.set({\"isOpened\":C,\"onClose\":this.anonymousFunc12},v,h),ae.propsManager.set({\"params\":Z},k,F),Object.assign(this.__state,{\"anonymousState__temp\":E,\"anonymousState__temp4\":q,\"anonymousState__temp5\":z,\"anonymousState__temp8\":H,\"anonymousState__temp9\":Q,\"anonymousState__temp10\":X,\"anonymousState__temp11\":K,\"anonymousState__temp12\":W,\"anonymousState__temp13\":J,\"anonymousState__temp18\":Y,\"anonymousState__temp19\":Z,\"loopArray31\":ee,\"loopArray32\":te,\"loopArray33\":oe,\"$compid__85\":s,\"$compid__86\":m,\"$compid__87\":f,\"$compid__88\":v,\"$compid__89\":k,\"styles\":ue.default}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];return this.anonymousFunc10Map[e]&&(t=this.anonymousFunc10Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc11\",\"value\":function anonymousFunc11(){}},{\"key\":\"anonymousFunc12\",\"value\":function anonymousFunc12(){}},{\"key\":\"anonymousFunc13\",\"value\":function anonymousFunc13(){}}]),u=i=Goodsdetail,i.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\",\"anonymousFunc9\",\"anonymousFunc10\",\"hrefOdwnOrder\",\"anonymousFunc13\",\"onCancalItem\"],i.$$componentPath=\"pages/goodsdetail/goodsdetail\",a=u))||a;function Goodsdetail(){var e,t,_;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Goodsdetail);for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=_=_possibleConstructorReturn(this,(e=Goodsdetail.__proto__||Object.getPrototypeOf(Goodsdetail)).call.apply(e,[this].concat(n)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp4\",\"anonymousState__temp5\",\"anonymousState__temp8\",\"anonymousState__temp9\",\"anonymousState__temp10\",\"anonymousState__temp11\",\"anonymousState__temp12\",\"anonymousState__temp13\",\"anonymousState__temp18\",\"anonymousState__temp19\",\"loopArray31\",\"loopArray32\",\"loopArray33\",\"$compid__85\",\"$compid__86\",\"$compid__87\",\"$compid__88\",\"$compid__89\",\"styles\",\"bannerList\",\"level\",\"defalutImgMes\",\"imgList\",\"productList\",\"collectStatus\",\"skuList\",\"defalutDetail\",\"currentIndex\",\"goodsDetail\",\"isOpenItem\",\"isOpenShare\",\"newValue\",\"clickItem\",\"agentItemId\",\"itemId\",\"windowH\",\"companyId\",\"isLogin\",\"mark\",\"mainUrl\"],_.getShopInfo=function(){var a=_.$router.params.companyId,i=d.default.getStorageSync(\"userInfo\")||{};m.default.goods.shopBaseInfo({\"companyId\":a}).then(function(e){if(e){i.companyId=a,i.shopId=e.shopId,c.default.globalStore.setData(\"userInfo\",Object.assign(i));var t=_.state,o=t.agentItemId,n=t.isLogin;_.memberDetail(o),_.getImage(\"oneToOne\"),_.getImage(\"phoneDetail\"),n&&(_.getCollectStatus(),_.getLevel(),_.companyCode())}})},_.handleChange=function(e){_.setState({\"currentIndex\":e.detail.current+1})},_.hrefOdwnOrder=function(){var e=_.state,t=e.newValue,o=e.defalutImgMes,n=e.goodsDetail,a=e.defalutDetail,i=e.agentItemId,u=c.default.globalStore.data.userInfo,l=u.shopId,s=u.companyId,r={\"agentItemId\":i,\"itemTitle\":n.itemTitle,\"skuImg\":o.skuImg,\"tradePrice\":o.agentVipTradePrice,\"brandId\":o.brandId,\"brandName\":o.brandName,\"count\":t,\"freePostage\":!0,\"selectValue\":a,\"shopName\":o.agentShopName,\"supplierId\":o.supplierId,\"postage\":o.postage,\"skuId\":o.skuId,\"stockQty\":o.stockQty};m.default.goods.isExistMember({\"shopId\":l}).then(function(e){e?(c.default.globalStore.setData(\"infoForOrder\",Object.assign(r)),c.default.globalStore.setData(\"checkAddress\",null),d.default.navigateTo({\"url\":\"/pages/submission/submission\"})):d.default.navigateTo({\"url\":\"/pages/login/login?companyId=\"+s})})},_.rightBuy=function(e){_.setState({\"isOpenItem\":!0,\"isOpenShare\":!1})},_.handleChangeItem=function(e){_.setState({\"newValue\":e})},_.shareItem=function(){_.setState({\"isOpenShare\":!0,\"isOpenItem\":!1})},_.onCancalItem=function(){_.setState({\"isOpenShare\":!1})},_.clickItem=function(e,t){var o=_.state.defalutDetail;o[t].propertyValue=e,_.setState({\"defalutDetail\":o},function(){_.searchSpecification(o[t])})},_.searchSpecification=function(a){var e=_.state,t=e.agentItemId,i=e.skuList,o={\"agentItemId\":t,\"propsValues\":[a]};m.default.goods.getAgentItemPropsValue(o).then(function(e){if(!e)return!1;if(0<e.length){for(var t=e[0].specsName,o=0,n=i.length;o<n;o++)t==i[o].specsName&&(i[o]={\"specsName\":t,\"propertyValueList\":e.map(function(e){return e.propertyValue})});_.setState({\"skuList\":i})}else _.setState({\"defalutDetail\":[a]});_.getSku()})},_.getSku=function(){var e=_.state,t={\"agentItemId\":e.agentItemId,\"propsValues\":e.defalutDetail};m.default.goods.getSku(t).then(function(e){if(!e)return!1;_.setState({\"defalutImgMes\":e})})},_.memberDetail=function(e){m.default.goods.memberDetail({\"agentItemId\":e}).then(function(e){e&&_.setState({\"mainUrl\":e.mainImgUrl,\"goodsDetail\":e,\"defalutDetail\":e.sku&&e.sku.propsList||null,\"defalutImgMes\":e&&e.sku||{},\"skuList\":e.propsList},function(){_.getList(e.agentCompanyId)})})},_.getList=function(e){var t=_.state.goodsDetail;t&&t.agentCompanyId&&m.default.goods.getRecomdList({\"agentCompanyId\":e}).then(function(e){if(!e)return!1;_.setState({\"productList\":e})})},_.getCollect=function(e){var t=_.state,o=t.agentItemId,n=t.itemId,a=t.goodsDetail,i=t.collectStatus;m.default.goods.collect({\"agentItemId\":o,\"itemId\":n,\"agentCompanyId\":a.agentCompanyId,\"collect\":e}).then(function(e){e&&_.setState({\"collectStatus\":!i})})},_.getCollectStatus=function(){var e=_.state.agentItemId;m.default.goods.isCollect({\"agentItemId\":e}).then(function(e){e&&_.setState({\"collectStatus\":e})})},_.getValueMes=function(e){return(e||[]).map(function(e){return e.propertyValue}).join(\"/\")},_.getImage=function(t){var e=_.state.itemId;m.default.goods.getImage({\"bizId\":e,\"bizType\":\"item\",\"type\":t}).then(function(e){if(!e)return!1;\"oneToOne\"==t?_.setState({\"bannerList\":e.records}):\"phoneDetail\"==t&&_.setState({\"imgList\":e.records})})},_.goUrl=function(e){var t=_.state.companyId;\"home\"==e?d.default.navigateTo({\"url\":\"/pages/index/index?companyId=\"+t}):d.default.navigateTo({\"url\":\"/pages/contactus/contactus\"})},_.companyCode=function(){m.default.inviter.userCode().then(function(e){e&&_.setState({\"mark\":e.invitationCode})})},_.getLevel=function(){var e=c.default.globalStore.data.userInfo.shopId;m.default.order.getShopMemberLevel({\"shopId\":e}).then(function(e){e&&_.setState({\"level\":e})})},_.config={\"navigationBarTitleText\":\"商品详情\"},_.anonymousFunc10Map={},_.customComponents=[\"Item\",\"AtFloatLayout\",\"AtInputNumber\",\"Share\"],_possibleConstructorReturn(_,t)}t.default=s,Component(o(1).default.createComponent(s,!0))},\"398\":function(e,t,o){\"use strict\";o.r(t);o(399);var n=o(95);for(var a in n)\"default\"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a)},\"399\":function(e,t,o){\"use strict\";o(168)},\"400\":function(e,t,o){e.exports={\"imgturn\":\"goodsdetail-module__imgturn___14BMd\",\"share_popup\":\"goodsdetail-module__share_popup___3JmS0\",\"bannerMes\":\"goodsdetail-module__bannerMes___17ILI\",\"bannerImg\":\"goodsdetail-module__bannerImg___3QmXG\",\"banner_img_items\":\"goodsdetail-module__banner_img_items___2TcVB\",\"numPoint\":\"goodsdetail-module__numPoint___C-kZE\",\"detailprice\":\"goodsdetail-module__detailprice___adHqt\",\"detailMes\":\"goodsdetail-module__detailMes___Rmu7X\",\"titleGoods\":\"goodsdetail-module__titleGoods___ZITiB\",\"priceLogo\":\"goodsdetail-module__priceLogo___2lbDO\",\"priceNum\":\"goodsdetail-module__priceNum___2pUiX\",\"getPrice\":\"goodsdetail-module__getPrice___2IX9m\",\"price_sales\":\"goodsdetail-module__price_sales___ouIwx\",\"topMes\":\"goodsdetail-module__topMes___c2P6f\",\"originPrice\":\"goodsdetail-module__originPrice___1L3VO\",\"volume_text\":\"goodsdetail-module__volume_text___XHDzS\",\"originpriceNum\":\"goodsdetail-module__originpriceNum___2SINX\",\"volume_num\":\"goodsdetail-module__volume_num___2MHDM\",\"backpoint\":\"goodsdetail-module__backpoint___1gt99\",\"allInner\":\"goodsdetail-module__allInner___29yvD\",\"goodsName\":\"goodsdetail-module__goodsName___2pmlB\",\"allImg\":\"goodsdetail-module__allImg___3O9hi\",\"off_notice\":\"goodsdetail-module__off_notice___2Wain\",\"footbar\":\"goodsdetail-module__footbar___3Mp4m\",\"leftFootbar\":\"goodsdetail-module__leftFootbar___3gkGS\",\"rightFootbar\":\"goodsdetail-module__rightFootbar___26U3R\",\"leftButton\":\"goodsdetail-module__leftButton___2ySnA\",\"leftButton1\":\"goodsdetail-module__leftButton1___3QIeK\",\"rightButton\":\"goodsdetail-module__rightButton___1XaKO\",\"btnfooter\":\"goodsdetail-module__btnfooter___2niug\",\"right_btn\":\"goodsdetail-module__right_btn___1MELn\",\"openInner\":\"goodsdetail-module__openInner___2eJbY\",\"closeBtn\":\"goodsdetail-module__closeBtn___39I_p\",\"pricePhoto\":\"goodsdetail-module__pricePhoto___2Icq0\",\"leftPriceImg\":\"goodsdetail-module__leftPriceImg___1-YTr\",\"selectColor\":\"goodsdetail-module__selectColor___HA4Qd\",\"eveMes\":\"goodsdetail-module__eveMes___q4QHl\",\"titleMes\":\"goodsdetail-module__titleMes___35owq\",\"spaceEve\":\"goodsdetail-module__spaceEve___kt4bQ\",\"eveStyle\":\"goodsdetail-module__eveStyle___3ffF5\",\"activeColor\":\"goodsdetail-module__activeColor___1o7IA\",\"buyItem\":\"goodsdetail-module__buyItem___3voPK\",\"buyButton\":\"goodsdetail-module__buyButton___1aUNP\",\"popup_header\":\"goodsdetail-module__popup_header___3WtvS\",\"share_avatar\":\"goodsdetail-module__share_avatar___3l1Eh\",\"close\":\"goodsdetail-module__close___fImTc\",\"getMoney\":\"goodsdetail-module__getMoney___2SmGz\",\"money_sign\":\"goodsdetail-module__money_sign___E8Y2X\",\"money_num\":\"goodsdetail-module__money_num___3vhVQ\",\"own_money\":\"goodsdetail-module__own_money___10YVg\",\"sign\":\"goodsdetail-module__sign___3iZKt\",\"share_title\":\"goodsdetail-module__share_title___TSavU\",\"botImg\":\"goodsdetail-module__botImg___1zPTv\",\"eveInner\":\"goodsdetail-module__eveInner___K8Jfo\",\"topImg\":\"goodsdetail-module__topImg___uYDKf\",\"cancalItem\":\"goodsdetail-module__cancalItem___2JpMY\",\"cancalBtn\":\"goodsdetail-module__cancalBtn___2EhwI\",\"gray\":\"goodsdetail-module__gray___34MWj\"}},\"95\":function(e,t,o){\"use strict\";o.r(t);var n=o(26),a=o.n(n);for(var i in n)\"default\"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t.default=a.a}},[[398,0,1,2,3]]]);","extractedComments":[]}