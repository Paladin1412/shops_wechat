{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[52],{\"160\":function(e,t,n){e.exports=n.p+\"pages/index/index.wxml\"},\"18\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var Q=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var _,r=e[Symbol.iterator]();!(o=(_=r.next()).done)&&(n.push(_.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{!o&&r.return&&r.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e};function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,a,_,J=n(1),d=_interopRequireDefault(J),r=_interopRequireDefault(n(2)),s=_interopRequireDefault(n(3)),X=_interopRequireDefault(n(9)),Y=n(4),K=_interopRequireDefault(Y),G=_interopRequireDefault(n(10)),ee=_interopRequireDefault(n(377));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var l=(0,r.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,d.default.Component),o(Index,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,n)}if(\"value\"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),\"_constructor\",this).call(this,e),this.state={\"upgradeVisible\":!1,\"id\":\"\",\"shopList\":[],\"pageIndex\":1,\"hasMore\":!0,\"isEmpty\":!1,\"companyMes\":{},\"screenHeight\":\"\",\"shopLevel\":1,\"isOpenShare\":!1,\"noLive\":0,\"liveDetail\":{},\"goodsList\":[]},this.$$refs=new d.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var n=this;d.default.getSystemInfo({\"success\":function success(e){n.setState({\"screenHeight\":e.screenHeight-80},function(){var e=d.default.getStorageSync(\"userInfo\")||{},t=e.companyId;n.agentitem({}),n.memberStatistics(),n.queryLiveByCompanyId(t),e.companyId&&e.token&&(n.getDialog(),n.companyCode(),n.getShopMemberLevel(e.shopId))})}})}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createHelloMessageData\",\"value\":function _createHelloMessageData(){var o=this;return function(e){var t=o.state.shopLevel;return{\"loopArray28\":(e||[]).map(function(e,t){e={\"$original\":(0,J.internal_get_original)(e)};var n=\"dizzz\"+t;return o.anonymousFunc0Map[n]=function(){return o.shareItem(e.$original,2)},{\"_$indexKey\":n,\"$loopState__temp2\":K.default.getFileUrl(e.$original.mainImgUrl)||X.default.home.backImage,\"$original\":e.$original}}),\"styles\":ee.default,\"shopLevel\":t}}}},{\"key\":\"_createData\",\"value\":function _createData(e,t,n){var o=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var i=this.$prefix,a=(0,J.genCompid)(i+\"$compid__65\"),_=Q(a,2),r=_[0],l=_[1],u=(0,J.genCompid)(i+\"$compid__66\"),d=Q(u,2),s=d[0],m=d[1],p=(0,J.genCompid)(i+\"$compid__67\"),c=Q(p,2),f=c[0],g=c[1],y=(0,J.genCompid)(i+\"$compid__68\"),h=Q(y,2),I=h[0],v=h[1],x=(0,J.genCompid)(i+\"$compid__69\"),S=Q(x,2),b=S[0],M=S[1],L=this.__state,w=L.upgradeVisible,D=(L.id,L.isLoaded),$=L.shopList,F=L.hasMore,T=(L.isEmpty,L.screenHeight),C=L.companyMes,R=L.isOpenShare,O=(L.shopLevel,L.icon),k=L.code,H=L.companyId,q=L.noLive,P=L.liveDetail,z=L.goodsList,B={\"height\":T+\"px\",\"paddingBottom\":\"100px\"},j={\"launchEmpty\":!0},A=(0,J.internal_inline_style)({\"minHeight\":T+\"px\"}),U=K.default.getFileUrl(C.logo)||X.default.goods.defalutHead,W=1==q?K.default.getFileUrl(P.adverImgUrl):null,E=z[0]?K.default.getFileUrl(z[0].mainImgUrl):null,V=z[1]?K.default.getFileUrl(z[1].mainImgUrl):null,Z=this.HelloMessage&&this.HelloMessage($);this.anonymousFunc1=function(){return o.shareItem(null,1)};var N={\"code\":k,\"link\":G.default.webHost+\"/#/pages/login/login?mark=\"+k+\"&companyId=\"+H,\"icon\":O&&G.default.crossFile+\"?uri=\"+(0,Y.getFileUrl)(O)};return this.anonymousFunc2=function(){return o.onCancalItem()},this.anonymousFunc3=function(){return o.setState({\"upgradeVisible\":!1})},J.propsManager.set({\"isLoaded\":D,\"hasMore\":F,\"style\":B,\"onScrollToLower\":this.onScrollToLower,\"launch\":j},l,r),J.propsManager.set({\"onShowItem\":this.onShowItem},m,s),J.propsManager.set({\"isOpened\":R},g,f),J.propsManager.set({\"params\":N},v,I),J.propsManager.set({\"visible\":w,\"onCancel\":this.anonymousFunc3},M,b),this.$$refs.pushRefs([{\"type\":\"component\",\"id\":\"djzzz\",\"refName\":\"\",\"fn\":function fn(e){return o.insRef(e)}},{\"type\":\"component\",\"id\":\"eazzz\",\"refName\":\"\",\"fn\":function fn(e){return o.share=e}},{\"type\":\"component\",\"id\":\"ebzzz\",\"refName\":\"\",\"fn\":function fn(e){return o.collect=e}}]),Object.assign(this.__state,{\"anonymousState__temp3\":B,\"anonymousState__temp4\":j,\"anonymousState__temp5\":A,\"anonymousState__temp6\":U,\"anonymousState__temp7\":W,\"anonymousState__temp8\":E,\"anonymousState__temp9\":V,\"anonymousState__temp10\":Z,\"anonymousState__temp11\":N,\"$compid__65\":l,\"$compid__66\":m,\"$compid__67\":g,\"$compid__68\":v,\"$compid__69\":M,\"styles\":ee.default,\"Assets\":X.default}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(e){for(var t,n=arguments.length,o=Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return this.anonymousFunc0Map[e]&&(t=this.anonymousFunc0Map)[e].apply(t,o)}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}}]),_=a=Index,a.$$events=[\"anonymousFunc0\",\"goLive\",\"anonymousFunc1\",\"anonymousFunc2\"],a.$$componentPath=\"pages/index/index\",i=_))||i;function Index(){var e,t,u;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Index);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=u=_possibleConstructorReturn(this,(e=Index.__proto__||Object.getPrototypeOf(Index)).call.apply(e,[this].concat(o)))).$usedState=[\"anonymousState__temp3\",\"anonymousState__temp4\",\"anonymousState__temp5\",\"anonymousState__temp6\",\"anonymousState__temp7\",\"anonymousState__temp8\",\"anonymousState__temp9\",\"anonymousState__temp10\",\"anonymousState__temp11\",\"$compid__65\",\"$compid__66\",\"$compid__67\",\"$compid__68\",\"$compid__69\",\"styles\",\"Assets\",\"noLive\",\"goodsList\",\"shopLevel\",\"id\",\"companyMes\",\"liveDetail\",\"upgradeVisible\",\"shopList\",\"pageIndex\",\"hasMore\",\"isEmpty\",\"screenHeight\",\"isOpenShare\",\"globalStore\"],u.getDialog=function(){s.default.common.getUpMemberMsg().then(function(e){e&&u.setState({\"id\":e.id,\"upgradeVisible\":!0})})},u.queryLiveByCompanyId=function(e){var t={\"companyId\":e};s.default.liveapi.queryLiveByCompanyId(t).then(function(e){e.id?u.setState({\"noLive\":1,\"liveDetail\":e},function(){var e=u.state.liveDetail;u.queryLiveItems(e.id)}):u.setState({\"noLive\":0})})},u.queryLiveItems=function(e){var t={\"liveId\":e};s.default.liveapi.queryLiveItems(t).then(function(e){e&&u.setState({\"goodsList\":e})})},u.initData=function(){u.agentitem({}),u.getDialog();var e=d.default.getStorageSync(\"userInfo\")||{};u.getShopMemberLevel(e.shopId)},u.getShopMemberLevel=function(e){s.default.order.getShopMemberLevel({\"shopId\":e}).then(function(e){e&&u.setState({\"shopLevel\":e})})},u.agentitem=function(e){var t=e.pageNo,n=void 0===t?1:t,o=e.callBack,i=e.pageSize,a=void 0===i?15:i,_=u.state.shopList,r=u.$router.params.companyId,l={\"pageNo\":n,\"pageSize\":a,\"agentCompanyId\":r||d.default.getStorageSync(\"userInfo\").companyId};s.default.goods.agentitem(l).then(function(e){if(!e)return!1;u.setState({\"shopList\":_.concat(e),\"pageIndex\":n,\"hasMore\":!(e.length<a)},function(){o&&o()})})},u.onScrollToLower=function(e){var t=u.state.pageIndex;t++,u.agentitem({\"pageNo\":t,\"callBack\":e})},u.memberStatistics=function(){var e=u.$router.params.companyId,t=u.props.globalStore,n={\"companyId\":e||t.data.userInfo.companyId,\"shopId\":\"\"};s.default.goods.shopBaseInfo(n).then(function(e){e&&u.setState({\"companyMes\":e})})},u.shareItem=function(e,t){var n=u.$router.params.companyId;2===t?d.default.navigateTo({\"url\":\"/pages/goodsdetail/goodsdetail?agentItemId=\"+e.id+\"&itemId=\"+e.itemId+\"&companyId=\"+(n||d.default.getStorageSync(\"userInfo\").companyId)}):u.setState({\"isOpenShare\":!0})},u.onCancalItem=function(){u.setState({\"isOpenShare\":!1})},u.goLive=function(){var e=u.state.liveDetail,t=u.$router.params.companyId;d.default.navigateTo({\"url\":\"/pages/golive/golive?liveId=\"+e.id+\"&companyId=\"+(t||d.default.getStorageSync(\"userInfo\").companyId)})},u.pullDownRefresh=function(e){u.initData(e)},u.insRef=function(e){u.refList=e},u.onShowItem=function(){u.collect.setState({\"shareVisible\":!0})},u.companyCode=function(){s.default.inviter.userCode().then(function(e){e&&u.setState({\"code\":e.invitationCode,\"icon\":e.icon,\"companyId\":e.companyId})})},u.config={\"navigationBarTitleText\":\"康小铺\"},u.anonymousFunc0Map={},u.customComponents=[\"ListView\",\"Empty\",\"Foot\",\"AtFloatLayout\",\"ShareTool\",\"Collectmodal\",\"UpgradeTip\"],_possibleConstructorReturn(u,t)}t.default=l,Component(n(1).default.createComponent(l,!0))},\"369\":function(e,t,n){\"use strict\";n.r(t);n(370);var o=n(87);for(var i in o)\"default\"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i)},\"370\":function(e,t,n){\"use strict\";n(160)},\"377\":function(e,t,n){e.exports={\"allInner\":\"index-module__allInner___3_jH0\",\"topInner\":\"index-module__topInner___1bfDK\",\"indexInner\":\"index-module__indexInner___3eP77\",\"titleTwoInner\":\"index-module__titleTwoInner___1vPOE\",\"headInner\":\"index-module__headInner___1Z6kK\",\"headInnerImg\":\"index-module__headInnerImg___1ZNoa\",\"logoImg\":\"index-module__logoImg___3SOo1\",\"logoImgMes\":\"index-module__logoImgMes___26kSD\",\"leftText\":\"index-module__leftText___17dX8\",\"botInner\":\"index-module__botInner___1ltwA\",\"numMes\":\"index-module__numMes___2pCZq\",\"titleMes\":\"index-module__titleMes___2e8_D\",\"fandom\":\"index-module__fandom___3vZtf\",\"titleFree\":\"index-module__titleFree___3mj2h\",\"headeve\":\"index-module__headeve___23Ya0\",\"headMes\":\"index-module__headMes___2i0F6\",\"headImg\":\"index-module__headImg___1aYgw\",\"dailytMes\":\"index-module__dailytMes___1390t\",\"leftPoint\":\"index-module__leftPoint___2O2bs\",\"rightText\":\"index-module__rightText___2gmqH\",\"priceTwoInner\":\"index-module__priceTwoInner___3Eaux\",\"firInner\":\"index-module__firInner___3WlSP\",\"eveInner\":\"index-module__eveInner___yg4qH\",\"leftInner\":\"index-module__leftInner___2XUbq\",\"leftInnerImg\":\"index-module__leftInnerImg___1m8Ga\",\"RightInner\":\"index-module__RightInner___3fZZf\",\"priceInner\":\"index-module__priceInner___2ucRz\",\"titleInner\":\"index-module__titleInner___3JJwc\",\"priLogo\":\"index-module__priLogo___kCkwr\",\"priStyle\":\"index-module__priStyle___3z7TP\",\"botStyle\":\"index-module__botStyle___2s3Ab\",\"pointstyle\":\"index-module__pointstyle___4YjC5\",\"point\":\"index-module__point___3p6qM\",\"editorMes\":\"index-module__editorMes___1WhYA\",\"delItem\":\"index-module__delItem___3RO6c\",\"downItem\":\"index-module__downItem___3GlWX\",\"ediItem\":\"index-module__ediItem___19aQp\",\"sharePrice\":\"index-module__sharePrice___25pIQ\",\"twoButton\":\"index-module__twoButton___1gVZn\",\"shareButton\":\"index-module__shareButton___3fFWW\",\"getButton\":\"index-module__getButton___2udAK\",\"shareImgMes\":\"index-module__shareImgMes___2Fyl4\",\"shareImgTe\":\"index-module__shareImgTe___2oQnJ\",\"liveStyle\":\"index-module__liveStyle___1577V\",\"liveLeft\":\"index-module__liveLeft___2Szp5\",\"imgTopStyle\":\"index-module__imgTopStyle___RbQDO\",\"liveText\":\"index-module__liveText___2rbr_\",\"liveLeftText\":\"index-module__liveLeftText___1O0Yf\",\"imgStyle\":\"index-module__imgStyle___29D7p\",\"liveRight\":\"index-module__liveRight___308qX\",\"liveRightText\":\"index-module__liveRightText___2Xzag\",\"topHead\":\"index-module__topHead___1-HFb\",\"botHead\":\"index-module__botHead___35W1D\",\"eveImg\":\"index-module__eveImg___1H_ZB\",\"eveImg_mes\":\"index-module__eveImg_mes___1SmW9\",\"all_Mes\":\"index-module__all_Mes____AAQA\",\"text_Mes\":\"index-module__text_Mes___1U91R\",\"share_popup\":\"index-module__share_popup___3Qth-\",\"botImg\":\"index-module__botImg___ennR1\",\"eve_Inner\":\"index-module__eve_Inner___TeraW\",\"topImg\":\"index-module__topImg___2gopL\",\"cancalItem\":\"index-module__cancalItem___2pcd1\",\"cancalBtn\":\"index-module__cancalBtn___1ib3R\",\"gray\":\"index-module__gray___Cn9LG\"}},\"87\":function(e,t,n){\"use strict\";n.r(t);var o=n(18),i=n.n(o);for(var a in o)\"default\"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t.default=i.a}},[[369,0,1,2,3]]]);","extractedComments":[]}