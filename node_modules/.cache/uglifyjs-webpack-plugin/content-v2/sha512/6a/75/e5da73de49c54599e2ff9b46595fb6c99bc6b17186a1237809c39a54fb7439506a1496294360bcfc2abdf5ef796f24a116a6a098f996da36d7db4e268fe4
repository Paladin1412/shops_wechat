{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[69],{\"164\":function(e,t,o){e.exports=o.p+\"pages/submission/submission.wxml\"},\"22\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],n=!0,s=!1,i=void 0;try{for(var r,u=e[Symbol.iterator]();!(n=(r=u.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){s=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(s)throw i}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},n=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,i,r,v=o(1),u=_interopRequireDefault(v),a=_interopRequireDefault(o(2)),S=o(4),_=_interopRequireDefault(o(3)),d=_interopRequireDefault(o(11)),x=_interopRequireDefault(o(388));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var c=(0,a.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Submission,u.default.Component),n(Submission,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:get(s,t,o)}if(\"value\"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0})(Submission.prototype.__proto__||Object.getPrototypeOf(Submission.prototype),\"_constructor\",this).call(this,e),this.state={\"info\":{},\"address\":null},this.$$refs=new u.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=u.default.getStorageSync(\"infoForOrder\"),t=u.default.getStorageSync(\"checkAddress\");e&&this.setState({\"info\":e}),t?this.setState({\"address\":t}):this.adressList()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,o){this.__state=e||this.state||{},this.__props=t||this.props||{};var n=this.$prefix,s=(0,v.genCompid)(n+\"$compid__74\"),i=h(s,2),r=i[0],u=i[1],a=(0,v.genCompid)(n+\"$compid__75\"),_=h(a,2),d=_[0],c=_[1],l=this.__state,m=l.address,f=l.info,p=m?(\"\"+m.receiver).substr(0,10):null,b=(0,S.getFileUrl)(f.skuImg),y=(f.selectValue||[]).map(function(e,t){return e.propertyValue+(t!==f.selectValue.length-1?\"/\":\"\")}),g=(0,S.formatPoint)(f.tradePrice*f.count);return m||v.propsManager.set({\"value\":\"add\",\"size\":\"20\",\"color\":\"#676767\",\"className\":x.default.icon},u,r),v.propsManager.set({\"min\":1,\"max\":f.stockQty,\"step\":1,\"value\":f.count,\"onChange\":this.handleInputChange},c,d),Object.assign(this.__state,{\"anonymousState__temp\":p,\"anonymousState__temp2\":b,\"anonymousState__temp3\":y,\"anonymousState__temp4\":g,\"$compid__74\":u,\"$compid__75\":c,\"styles\":x.default}),this.__state}}]),r=i=Submission,i.$$events=[\"goAddress\",\"checkAddress\",\"goResult\"],i.$$componentPath=\"pages/submission/submission\",s=r))||s;function Submission(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Submission);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return(t=n=_possibleConstructorReturn(this,(e=Submission.__proto__||Object.getPrototypeOf(Submission)).call.apply(e,[this].concat(s)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"anonymousState__temp3\",\"anonymousState__temp4\",\"$compid__74\",\"$compid__75\",\"styles\",\"address\",\"info\"],n.handleInputChange=function(e){var t=n.state.info;t.count=e,n.setState({\"info\":t}),d.default.globalStore.setData(\"infoForOrder\",Object.assign(t))},n.goAddress=function(){u.default.navigateTo({\"url\":\"/pages/edit-address/edit-address?backUrl=/pages/submission/submission\"})},n.checkAddress=function(){u.default.navigateTo({\"url\":\"/pages/address/address?backUrl=/pages/submission/submission\"})},n.goResult=function(){var e=n.state,t=e.address,o=e.info;_.default.order.doOrder({\"areaCode\":t.areaId,\"cityCode\":t.cityId,\"provinceCode\":t.provinceId,\"province\":t.province,\"city\":t.city,\"area\":t.area,\"detailAddress\":t.address,\"receiveName\":t.receiver,\"receivePhone\":t.phone,\"streetCode\":t.streetId,\"count\":o.count,\"skuId\":o.skuId,\"agentItemId\":o.agentItemId}).then(function(e){e&&S.orderPay.Opay(e)})},n.defAddress=function(){_.default.order.defAddress().then(function(e){n.setState({\"address\":e})})},n.adressList=function(){_.default.address.getList().then(function(e){if(0<e.totalRecordSize){var t=e.records.findIndex(function(e){return!0===e.isDefault});n.setState({\"address\":0<=t?e.records[t]:e.records[0]})}})},n.config={\"navigationBarTitleText\":\"提交订单\"},n.customComponents=[\"AtIcon\",\"AtInputNumber\"],_possibleConstructorReturn(n,t)}t.default=c,Component(o(1).default.createComponent(c,!0))},\"386\":function(e,t,o){\"use strict\";o.r(t);o(387);var n=o(91);for(var s in n)\"default\"!==s&&function(e){o.d(t,e,function(){return n[e]})}(s)},\"387\":function(e,t,o){\"use strict\";o(164)},\"388\":function(e,t,o){e.exports={\"addres_box\":\"submission-module__addres_box___1qBQj\",\"icon\":\"submission-module__icon___3tiSo\",\"product_box\":\"submission-module__product_box___1a6el\",\"title\":\"submission-module__title___2Ooa2\",\"font\":\"submission-module__font___3j6y0\",\"info_box\":\"submission-module__info_box___3A683\",\"img\":\"submission-module__img___18T3M\",\"info_right\":\"submission-module__info_right___2UHEL\",\"info_title\":\"submission-module__info_title___2SBZW\",\"size_box\":\"submission-module__size_box___mzAV4\",\"price_box\":\"submission-module__price_box___3KkmD\",\"left\":\"submission-module__left___1xO8_\",\"num\":\"submission-module__num___2GVlX\",\"tag\":\"submission-module__tag___2aFFF\",\"count_box\":\"submission-module__count_box___1Y-oU\",\"transfee_box\":\"submission-module__transfee_box___1aG_B\",\"red\":\"submission-module__red___2u0EM\",\"gray\":\"submission-module__gray___1OWAP\",\"button_box\":\"submission-module__button_box___1J_gI\",\"content\":\"submission-module__content___25fFC\",\"button\":\"submission-module__button___2Bsuz\",\"gray_button\":\"submission-module__gray_button___3AL1Y\",\"item\":\"submission-module__item___Kcbqd\",\"name_box\":\"submission-module__name_box___25ilT\",\"name\":\"submission-module__name___2wNHs\",\"tel\":\"submission-module__tel___3TRCB\"}},\"91\":function(e,t,o){\"use strict\";o.r(t);var n=o(22),s=o.n(n);for(var i in n)\"default\"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t.default=s.a}},[[386,0,1,2,3]]]);","extractedComments":[]}