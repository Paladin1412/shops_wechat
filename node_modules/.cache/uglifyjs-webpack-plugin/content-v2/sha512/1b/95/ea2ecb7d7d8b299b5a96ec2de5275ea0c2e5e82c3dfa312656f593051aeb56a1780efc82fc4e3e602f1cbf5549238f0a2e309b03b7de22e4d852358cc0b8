{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[16],{\"130\":function(e,t,o){\"use strict\";o.r(t);var n=o(55),r=o.n(n);for(var a in n)\"default\"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t.default=r.a},\"206\":function(e,t,o){e.exports=o.p+\"npm/taro-listview/dist/weapp/components/list-view/index.wxml\"},\"378\":function(e,t,o){\"use strict\";o.r(t);o(379);var n=o(130);for(var r in n)\"default\"!==r&&function(e){o.d(t,e,function(){return n[e]})}(r)},\"379\":function(e,t,o){\"use strict\";o(206)},\"380\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};t.debounce=debounce;var i=_interopRequireDefault(o(0)),l=_interopRequireDefault(o(381));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function debounce(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){var e=this;clearTimeout(n),n=setTimeout(function(){t.call(e)},o)}}var u=null,s=Date.now();t.default={\"lazyScroll\":function lazyScroll(n,e,r){var t=\"WEB\"===i.default.getEnv()?\".lazy-image-\"+n:e+\" >>> .lazy-image-\"+n;!function throttle(n,r){return function(){var e=Date.now(),t=r-(e-s),o=arguments;clearTimeout(u),t<=0?(n.apply(this,o),s=Date.now()):u=setTimeout(n,t)}}(function(){i.default.createSelectorQuery().selectAll(t).boundingClientRect().exec(function(e){var t=e[0],o=[];t.forEach(function(e,t){e.top>1.5*-r&&e.top<1.5*r&&o.push(t)}),i.default[n]&&\"function\"==typeof i.default[n]&&i.default[n](o)})},500)()},\"wait\":function wait(e){var t=0<arguments.length&&void 0!==e?e:500;return new Promise(function(e){setTimeout(function(){e()},t)})},\"debounce\":debounce,\"updateScrollHeight\":function updateScrollHeight(t,e){var o=l.default.get(\"lazyBox\",[]),n=o.findIndex(function(e){return e.key===t}),r=o[n];o.splice(n,1,a({},r,{\"viewHeight\":e})),l.default.set(\"lazyBox\",o)},\"lazyScrollInit\":function lazyScrollInit(e){var t=\"lazy\"+(new Date).getTime(),o=l.default.get(\"lazyBox\",[]);if(o.length){var n=o.length,r=o[n-1];864e5<(new Date).getTime()-Number(r.key.replace(\"lazy\",\"\"))&&o.splice(0,n)}return o.push({\"key\":t,\"className\":e,\"viewHeight\":0}),l.default.set(\"lazyBox\",o),t},\"lazyScrollRemove\":function lazyScrollRemove(){var e=l.default.get(\"lazyBox\",[]);e.pop(),l.default.set(\"lazyBox\",e)}}},\"381\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}(o(0));t.default={\"get\":function get(e,t){var o=n.default.getStorageSync(e);return o&&\" \"!==o&&\"undefined\"!==o&&\"null\"!==o||(o=\"\"),o?JSON.parse(o):t},\"set\":function set(e,t){n.default.setStorageSync(e,JSON.stringify(t))},\"remove\":function remove(e){n.default.removeStorageSync(e)},\"clear\":function clear(){n.default.clearStorageSync()}}},\"382\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});t.initialState={\"hideInd\":!1,\"touchScrollTop\":0,\"scrollTop\":0,\"startY\":0,\"downLoading\":!1,\"lowerLoading\":!1,\"canScrollY\":!0,\"isInit\":!1,\"blockStyle\":{\"transform\":\"translate3d(0,0,0)\",\"transition\":\"none\"},\"dampText\":\"\"},t.initialProps={\"lazy\":!1,\"distanceToRefresh\":50,\"damping\":150,\"isLoaded\":!0,\"isEmpty\":!1,\"emptyText\":\"\",\"noMore\":\"暂无更多内容\",\"footerLoadingText\":\"加载中\",\"footerLoadedText\":\"暂无更多内容\",\"scrollTop\":0,\"touchScrollTop\":0,\"onScrollToLower\":function onScrollToLower(){},\"showIndicator\":!0,\"className\":\"\",\"onPullDownRefresh\":null,\"hasMore\":!1,\"needInit\":!1,\"isError\":!1,\"launch\":{},\"renderEmpty\":null,\"renderError\":null,\"indicator\":{\"activate\":\"下拉刷新\",\"deactivate\":\"释放刷新\"}}},\"383\":function(e,t,o){},\"55\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var oe=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},n=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r,a,ne=o(0),f=_interopRequireDefault(ne),i=_interopRequireDefault(o(380)),l=o(382);function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}o(383);var u=(function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ListView,ne.Component),n(ListView,[{\"key\":\"_constructor\",\"value\":function _constructor(){var e=this;(function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if(\"value\"in n)return n.value;var a=n.get;return void 0!==a?a.call(o):void 0})(ListView.prototype.__proto__||Object.getPrototypeOf(ListView.prototype),\"_constructor\",this).apply(this,arguments),this.lazyClassName=\"boolean\"==typeof e.props.lazy?\".lazy-view\":e.props.lazy,this.lazyKey=function(){if(e.props.lazy)return i.default.lazyScrollInit(e.lazyClassName)}(),this.lazyViewHeight=0,this.scrollView={},this.state=l.initialState,this.startY=0,this.needPullDown=!0,this.touchScrollTop=0,this.$$refs=new f.default.RefsArray}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var t=this;this.moveBox(0),this.props.lazy&&f.default.createSelectorQuery().in(this.$scope).select(\".scrollView\").boundingClientRect().exec(function(e){i.default.updateScrollHeight(t.lazyKey,e[0].height),t.lazyViewHeight=e[0].height}),this.props.needInit&&this.fetchInit()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){i.default.lazyScrollRemove()}},{\"key\":\"_createData\",\"value\":function _createData(e,t,o){var n=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var r=this.$prefix,a=(0,ne.genCompid)(r+\"$compid__173\"),i=oe(a,2),l=i[0],u=i[1],s=(0,ne.genCompid)(r+\"$compid__174\"),c=oe(s,2),d=c[0],p=c[1],f=(0,ne.genCompid)(r+\"$compid__175\"),y=oe(f,2),m=y[0],h=y[1],v=this.__props,_=v.style,g=v.hasMore,w=v.noMore,S=v.isEmpty,L=v.emptyText,T=v.className,b=v.isError,x=v.isLoaded,z=v.selector,E=v.launch,D=void 0===E?{}:E,P=v.footerLoadingText,F=v.footerLoadedText,R=v.damping,O=v.circleColor,C=D.launchError,k=void 0!==C&&C,M=D.launchEmpty,I=void 0!==M&&M,$=D.launchFooterLoaded,j=void 0!==$&&$,B=D.launchFooterLoading,V=void 0!==B&&B,Y=this.__state,N=Y.canScrollY,H=Y.blockStyle,q=Y.downLoading,A=Y.dampText,W=!(S||b),J=!q&&!S&&!b,K=J&&!j&&!g,Q=J&&j&&!g,U=J&&!V&&g,G=J&&V&&g,X=(0,ne.internal_inline_style)(_),Z=(0,ne.internal_inline_style)({\"minHeight\":\"100%\",\"overflowY\":\"hidden\"});this.anonymousFunc0=function(e){return n.touchEvent(e)},this.anonymousFunc1=function(e){return n.touchEvent(e)},this.anonymousFunc2=function(e){return n.touchEvent(e)},this.anonymousFunc3=function(e){return n.touchEvent(e)};var ee=(0,ne.internal_inline_style)(H),te=(0,ne.internal_inline_style)({\"height\":R+\"px\",\"marginTop\":\"-\"+R+\"px\"});return ne.propsManager.set({\"isLoaded\":x||b,\"selector\":z},u,l),q&&!this.__props.customizeLoading&&ne.propsManager.set({\"color\":O},p,d),ne.propsManager.set({\"launchError\":k,\"launchEmpty\":I,\"isError\":b||!1,\"isEmpty\":S||!1,\"emptyText\":L||\"\",\"fetchInit\":this.fetchInit},h,m),this.$$refs.pushRefs([{\"type\":\"dom\",\"id\":\"iizzz\",\"refName\":\"\",\"fn\":function fn(e){n.scrollView=e}}]),Object.assign(this.__state,{\"anonymousState__temp\":X,\"anonymousState__temp2\":Z,\"anonymousState__temp3\":ee,\"anonymousState__temp4\":te,\"$compid__173\":u,\"$compid__174\":p,\"$compid__175\":h,\"className\":T,\"canScrollY\":N,\"downLoading\":q,\"showChildren\":W,\"footerLoading\":U,\"customFooterLoading\":G,\"footerLoaded\":K,\"customFooterLoaded\":Q,\"dampText\":A,\"footerLoadingText\":P,\"noMore\":w,\"footerLoadedText\":F}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}}]),a=r=ListView,r.$$events=[\"handleScrollToLower\",\"onScroll\",\"anonymousFunc0\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\"],r.multipleSlots=!0,r.$$componentPath=\"node_modules/taro-listview/dist/weapp/components/list-view/index\",a);function ListView(){var e,t,p;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,ListView);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=p=_possibleConstructorReturn(this,(e=ListView.__proto__||Object.getPrototypeOf(ListView)).call.apply(e,[this].concat(n)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"anonymousState__temp3\",\"anonymousState__temp4\",\"$compid__173\",\"$compid__174\",\"$compid__175\",\"className\",\"canScrollY\",\"downLoading\",\"showChildren\",\"footerLoading\",\"customFooterLoading\",\"footerLoaded\",\"customFooterLoaded\",\"dampText\",\"footerLoadingText\",\"noMore\",\"footerLoadedText\",\"lazy\",\"needInit\",\"style\",\"hasMore\",\"isEmpty\",\"emptyText\",\"isError\",\"isLoaded\",\"selector\",\"launch\",\"damping\",\"circleColor\",\"customizeLoading\",\"distanceToRefresh\",\"indicator\",\"tipFreedText\",\"tipText\",\"renderCustomizeLoading\",\"children\",\"renderError\",\"renderEmpty\",\"renderFooterLoading\",\"renderFooterLoaded\"],p.touchEvent=function(e){var t=e.type,o=e.touches,n=p.props,r=n.onPullDownRefresh,a=n.distanceToRefresh,i=n.damping;if(r)switch(t){case\"touchstart\":p.touchScrollTop=p.state.scrollTop,p.needPullDown=!0,p.startY=o[0].clientY;break;case\"touchmove\":var l=o[0].clientY,u=p.touchScrollTop,s=Math.floor((l-p.startY)/5);if(s<0||5<u)return;if(e.preventDefault(),0<s&&s<(i||0)){var c=!1;s<(a||0)&&(c=!0),p.updateDampText(c),p.moveBox(s)}break;case\"touchend\":p.needPullDown?p.resetLoad(0):p.fetchInit();break;case\"touchcancel\":p.resetLoad(0)}},p.fetchInit=function(){var e=p.props.onPullDownRefresh;p.resetLoad(1),e&&p.props.onPullDownRefresh(function(){p.setState({\"isInit\":!0}),p.resetLoad(0,function(){p.setState({\"isInit\":!1})})})},p.resetLoad=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],o=p.props.distanceToRefresh,n={};switch(e){case 0:n={\"canScrollY\":!0,\"downLoading\":!1},p.updateDampText(!0),p.moveBox(0);break;case 1:n={\"canScrollY\":!1,\"downLoading\":!0},p.updateDampText(!1),p.moveBox(o)}p.setState(n),setTimeout(function(){t&&t()},400)},p.handleScrollToLower=function(){i.default.debounce(function(){p.getMore()})()},p.getMore=function(){var e=p.props,t=e.onScrollToLower,o=e.hasMore,n=p.state.lowerLoading;o&&!n&&t&&(p.setState({\"lowerLoading\":!0}),p.props.onScrollToLower(function(){p.setState({\"lowerLoading\":!1})}))},p.onScroll=function(e){var t=e.detail.scrollTop;p.props.onScroll&&p.props.onScroll(),p.setState({\"scrollTop\":t}),p.props.lazy&&i.default.lazyScroll(p.lazyKey,p.lazyClassName,p.lazyViewHeight)},p.moveBox=function(e){var t=e?\"none\":\"300ms linear\";if(\"WEB\"===f.default.getEnv()){var o=document.getElementById(\"bodyView\");o.style.transform=\"translate3d(0,\"+e+\"px,0)\",o.style.transition=t}else p.setState({\"canScrollY\":!e,\"blockStyle\":{\"transform\":\"translate3d(0,\"+e+\"px,0)\",\"transition\":t}})},p.updateDampText=function(e){p.needPullDown=e;var t=p.state,o=t.isInit;if(!(!t.downLoading&&!o))return\"\";var n=p.props,r=n.indicator,a=void 0===r?{}:r,i=n.tipFreedText,l=n.tipText,u=a.activate,s=void 0===u?\"释放刷新\":u,c=a.deactivate,d=\"\";(d=e?s||l:(void 0===c?\"下拉刷新\":c)||i,\"WEB\"===f.default.getEnv())?document.getElementById(\"tip-dampText\").innerText=d:p.setState({\"dampText\":d})},p.customComponents=[\"Skeleton\",\"Loading\",\"ResultPage\"],_possibleConstructorReturn(p,t)}u.options={\"addGlobalClass\":!0},u.defaultProps=l.initialProps,t.default=u,Component(o(0).default.createComponent(u))}},[[378,0,1,2]]]);","extractedComments":[]}