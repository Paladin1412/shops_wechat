{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[44],{\"117\":function(e,t,a){\"use strict\";a.r(t);var o=a(42),n=a.n(o);for(var r in o)\"default\"!==r&&function(e){a.d(t,e,function(){return o[e]})}(r);t.default=n.a},\"197\":function(e,t,a){e.exports=a.p+\"pages/aftersales-detail/aftersales-detail.wxml\"},\"343\":function(e,t,a){\"use strict\";a.r(t);a(344);var o=a(117);for(var n in o)\"default\"!==n&&function(e){a.d(t,e,function(){return o[e]})}(n)},\"344\":function(e,t,a){\"use strict\";a(197)},\"345\":function(e,t,a){e.exports={\"content\":\"aftersales-detail-module__content___3UVLq\",\"header\":\"aftersales-detail-module__header___1dN91\",\"header_title\":\"aftersales-detail-module__header_title___oSrwE\",\"header_icon\":\"aftersales-detail-module__header_icon___3yTIi\",\"header_content\":\"aftersales-detail-module__header_content___3RRl7\",\"body\":\"aftersales-detail-module__body___23VnJ\",\"info_box\":\"aftersales-detail-module__info_box___38key\",\"progress_bar\":\"aftersales-detail-module__progress_bar___1R6V0\",\"state_item\":\"aftersales-detail-module__state_item___1XPeF\",\"state_next\":\"aftersales-detail-module__state_next___1kHdh\",\"state_item_large\":\"aftersales-detail-module__state_item_large___k75-2\",\"state_info\":\"aftersales-detail-module__state_info___3lRoK\",\"state_num\":\"aftersales-detail-module__state_num___LTV8H\",\"finish_num\":\"aftersales-detail-module__finish_num___1HwUn\",\"state_text\":\"aftersales-detail-module__state_text___3p9zX\",\"finish_text\":\"aftersales-detail-module__finish_text___2jFdo\",\"next\":\"aftersales-detail-module__next___1tj2o\",\"refund_item\":\"aftersales-detail-module__refund_item___1sgRE\",\"return_item\":\"aftersales-detail-module__return_item___3mfYX\",\"return_title\":\"aftersales-detail-module__return_title___1NOpB\",\"refund_title\":\"aftersales-detail-module__refund_title___37aLu\",\"refund_remarks\":\"aftersales-detail-module__refund_remarks___2q-Mm\",\"return_remarks\":\"aftersales-detail-module__return_remarks___onNYE\",\"refund_proof\":\"aftersales-detail-module__refund_proof___2DKZX\",\"title\":\"aftersales-detail-module__title___3cPTO\",\"proof_img\":\"aftersales-detail-module__proof_img___1ncor\",\"img\":\"aftersales-detail-module__img___2EhcB\",\"noborder_bottom\":\"aftersales-detail-module__noborder_bottom___1Psei\",\"return\":\"aftersales-detail-module__return___KipsS\",\"button_box\":\"aftersales-detail-module__button_box___2sujm\",\"button\":\"aftersales-detail-module__button___3Orsw\",\"popup_header\":\"aftersales-detail-module__popup_header___1QvsC\",\"close\":\"aftersales-detail-module__close___3AN8J\",\"popup_body\":\"aftersales-detail-module__popup_body___1Dnj4\",\"xrequired\":\"aftersales-detail-module__xrequired___3geeS\",\"item\":\"aftersales-detail-module__item___1M3lR\",\"input\":\"aftersales-detail-module__input___28-Y1\",\"popup_button\":\"aftersales-detail-module__popup_button___2ZFyy\",\"btn\":\"aftersales-detail-module__btn___3Co4A\",\"gray_btn\":\"aftersales-detail-module__gray_btn___tGJKn\",\"red\":\"aftersales-detail-module__red___2GEPy\",\"info_box_title\":\"aftersales-detail-module__info_box_title___3HKWf\",\"back\":\"aftersales-detail-module__back___2StZi\",\"product_box\":\"aftersales-detail-module__product_box___3O5kp\",\"font\":\"aftersales-detail-module__font___jDnx0\",\"status_box\":\"aftersales-detail-module__status_box___3sYk4\",\"info_right\":\"aftersales-detail-module__info_right___2Zc4e\",\"item_line\":\"aftersales-detail-module__item_line___2Md43\",\"info_title\":\"aftersales-detail-module__info_title___2bDL2\",\"num\":\"aftersales-detail-module__num___2tOqj\",\"recv\":\"aftersales-detail-module__recv___5nZR9\",\"second\":\"aftersales-detail-module__second___27-vm\",\"all_price\":\"aftersales-detail-module__all_price___2ZngM\",\"all_num\":\"aftersales-detail-module__all_num____NYrY\",\"last_button\":\"aftersales-detail-module__last_button___3kh9O\",\"icon_phone\":\"aftersales-detail-module__icon_phone___3DdxD\",\"red_button\":\"aftersales-detail-module__red_button___rKZZU\",\"kefu_box\":\"aftersales-detail-module__kefu_box___wiuGI\"}},\"42\":function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var a=[],o=!0,n=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);o=!0);}catch(e){n=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e};function defineProperties(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n,r,s,H=a(0),K=_interopRequireDefault(H),i=_interopRequireDefault(a(1)),_=_interopRequireDefault(a(2)),l=a(3),Y=_interopRequireDefault(a(345));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var u=_interopRequireDefault(a(4)).default.appUtils,J=u.getFileUrl,W=u.formatPoint,f=(0,i.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AftersalesDetail,K.default.Component),o(AftersalesDetail,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,a){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var n=Object.getPrototypeOf(e);return null===n?void 0:get(n,t,a)}if(\"value\"in o)return o.value;var r=o.get;return void 0!==r?r.call(a):void 0})(AftersalesDetail.prototype.__proto__||Object.getPrototypeOf(AftersalesDetail.prototype),\"_constructor\",this).call(this,e),this.state={\"showLogisticsPopup\":!1,\"stateList\":[],\"imgs\":[],\"afterInfo\":{},\"newObj\":{},\"actionType\":\"\",\"actionDesc\":\"\",\"sureModal\":!1,\"kefuVisible\":!1,\"telNo\":\"0571-88670307\"},this.$$refs=new K.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.afterDetail()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,a){var o=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var n=this.$prefix,r=(0,H.genCompid)(n+\"$compid__152\"),s=B(r,2),i=s[0],_=s[1],l=(0,H.genCompid)(n+\"$compid__153\"),u=B(l,2),f=u[0],d=u[1],c=(0,H.genCompid)(n+\"$compid__154\"),m=B(c,2),p=m[0],y=m[1],h=(0,H.genCompid)(n+\"$compid__155\"),g=B(h,2),b=g[0],S=g[1],v=this.__state,x=v.stateList,k=v.imgs,F=v.showLogisticsPopup,w=v.afterInfo,D=v.expressNumber,C=v.company,O=(v.newObj,v.actionType),$=v.actionDesc,N=v.sureModal,A=v.kefuVisible,P=(v.telNo,(0,H.internal_inline_style)({\"fontSize\":\"18px\"})),T=K.default.getStorageSync(\"userInfo\").shopName,j=J(w.skuImgs),M=this.getProps(w.propsValue),R=W(w.unitPrice*w.afterSaleCount,4),E=1===Number(w.reason)?\"质量问题\":\"\",L=2===Number(w.reason)?\"实物与图片不符\":\"\",I=3===Number(w.reason)?\"七天无理由\":\"\",q=4===Number(w.reason)?\"其他\":\"\",V=Number(w.reason)?\"\":w.reason;this.anonymousFunc0=function(){return o.setState({\"kefuVisible\":!0})},this.anonymousFunc1=function(){return o.setState({\"sureModal\":!0,\"actionType\":\"取消\",\"actionDesc\":\"您仅能主动取消一次，取消后将不能再主动取消，且超出保障期无法再次发起售后\"})},this.anonymousFunc2=function(){return o.sendAfter(w.afterSaleNo)},this.anonymousFunc3=function(){return o.setState({\"sureModal\":!1})},this.anonymousFunc4=function(){return o.setState({\"sureModal\":!1})},this.anonymousFunc5=function(){return o.setaction()};var Z=98===w.afterSaleStatus||2!==w.afterSaleType&&3!==w.afterSaleType?[]:x.map(function(e,t){var a=(e={\"$original\":(0,H.internal_get_original)(e)}).$original.isFinish;return(0===t||1===t&&21<=w.afterSaleStatus||2===t&&52<=w.afterSaleStatus||3===t&&53<=w.afterSaleStatus)&&(a=!0),{\"isFinish\":a,\"$original\":e.$original}}),U=2===w.afterSaleType||3===w.afterSaleType?k.map(function(e,t){return e={\"$original\":(0,H.internal_get_original)(e)},{\"$loopState__temp12\":2===w.afterSaleType||3===w.afterSaleType?J(e.$original):null,\"$original\":e.$original}}):[];return H.propsManager.set({\"count\":1},_,i),H.propsManager.set({\"isOpened\":F,\"onClose\":this.handleClose},d,f),H.propsManager.set({\"isOpened\":N,\"title\":!1,\"cancelText\":\"再想想\",\"confirmText\":\"确定\",\"onClose\":this.anonymousFunc3,\"onCancel\":this.anonymousFunc4,\"onConfirm\":this.anonymousFunc5,\"content\":\"取消\"===O&&$},y,p),H.propsManager.set({\"isOpened\":A},S,b),Object.assign(this.__state,{\"anonymousState__temp\":P,\"anonymousState__temp2\":T,\"anonymousState__temp3\":j,\"anonymousState__temp4\":M,\"anonymousState__temp5\":R,\"anonymousState__temp6\":E,\"anonymousState__temp7\":L,\"anonymousState__temp8\":I,\"anonymousState__temp9\":q,\"anonymousState__temp10\":V,\"loopArray55\":Z,\"loopArray56\":U,\"$compid__152\":_,\"$compid__153\":d,\"$compid__154\":y,\"$compid__155\":S,\"styles\":Y.default,\"company\":C,\"expressNumber\":D}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}}]),s=r=AftersalesDetail,r.$$events=[\"logisticsInfoClick\",\"anonymousFunc0\",\"anonymousFunc1\",\"handleClose\",\"getExpressCompany\",\"getExpressNumber\",\"anonymousFunc2\",\"tel\"],r.$$componentPath=\"pages/aftersales-detail/aftersales-detail\",n=s))||n;function AftersalesDetail(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,AftersalesDetail);for(var a=arguments.length,o=Array(a),n=0;n<a;n++)o[n]=arguments[n];return(t=r=_possibleConstructorReturn(this,(e=AftersalesDetail.__proto__||Object.getPrototypeOf(AftersalesDetail)).call.apply(e,[this].concat(o)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"anonymousState__temp3\",\"anonymousState__temp4\",\"anonymousState__temp5\",\"anonymousState__temp6\",\"anonymousState__temp7\",\"anonymousState__temp8\",\"anonymousState__temp9\",\"anonymousState__temp10\",\"loopArray55\",\"loopArray56\",\"$compid__152\",\"$compid__153\",\"$compid__154\",\"$compid__155\",\"styles\",\"afterInfo\",\"stateList\",\"newObj\",\"imgs\",\"company\",\"expressNumber\",\"telNo\",\"showLogisticsPopup\",\"actionType\",\"actionDesc\",\"sureModal\",\"kefuVisible\"],r.logisticsInfoClick=function(){r.setState({\"showLogisticsPopup\":!0,\"kefuVisible\":!1})},r.handleClose=function(){r.setState({\"showLogisticsPopup\":!1})},r.getExpressCompany=function(e){r.setState({\"company\":e.detail.value})},r.getExpressNumber=function(e){r.setState({\"expressNumber\":e.detail.value})},r.handleExpressInfo=function(e){r.setState({\"showLogisticsPopup\":!1})},r.setaction=function(){\"取消\"===r.state.actionType&&r.cancelAfter()},r.cancelAfter=function(){var e=r.$router.params.afterSaleNo;_.default.order.cancelAfter({\"afterSaleNo\":e}).then(function(e){r.setState({\"sureModal\":!1}),e&&(l.message.success(\"已取消\"),K.default.navigateTo({\"url\":\"/pages/my-order/my-order?t=\"+(new Date).getTime()+\"&isOrder=2\"}))})},r.afterDetail=function(){var e=r.$router.params.afterSaleNo,n=r;_.default.order.afterDetail(e).then(function(o){if(o){var e=(o.imgs||\"\").split(\",\");n.setState({\"afterInfo\":o,\"imgs\":e},function(){var e=n.state.afterInfo,t=[{\"text\":\"申请售后\",\"isFinish\":!1},{\"text\":\"店主审核\",\"isFinish\":!1},{\"text\":\"商家收货\",\"isFinish\":!1},{\"text\":\"售后完成\",\"isFinish\":!1}];3===o.afterSaleType&&(t=[{\"text\":\"申请售后\",\"isFinish\":!1},{\"text\":\"店主审核\",\"isFinish\":!1},{\"text\":\"售后完成\",\"isFinish\":!1}]);var a=n.afterStatus(e.afterSaleStatus);r.setState({\"newObj\":a,\"stateList\":t})})}})},r.afterStatus=function(e){var t=\"售后中\",a=\"您的售后申请已提交，正在等待审核...\",o=\"iconshouhou\",n=Number(e);return 98===n?(t=\"商家驳回\",a=\"商家已驳回申请,请与商家沟通\",o=\"iconzhifushibai\"):21<=n&&n<52?(t=\"商家审核通过\",a=\"请保持物品完好、无破损、根据商家提供的地址联系快递退回并录入快递信息\",o=\"iconkaidianchenggong\"):52<=n&&n<53?(t=\"商家确认收货\",a=\"等待商家收货后，售后即可完成\",o=\"iconkaidianchenggong\"):99===n||53===n?(t=\"售后成功\",a=\"您的售后订单已成功，退款金已原路退回\",o=\"iconkaidianchenggong\"):97===n&&(t=\"售后已取消\",a=\"您的售后订单已取消\",o=\"iconkaidianchenggong\"),{\"title\":t,\"desc\":a,\"iconName\":o}},r.sendAfter=function(e){var t=r.state,a=t.company,o=t.expressNumber;_.default.order.sendAfter({\"orderAfterNo\":e,\"shippingCompany\":a,\"shippingId\":o}).then(function(e){e&&(r.setState({\"showLogisticsPopup\":!1}),K.default.navigateTo({\"url\":\"/pages/my-order/my-order?isOrder=2\"}))})},r.getProps=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"\";e=e.replace(\"[\",\"\").replace(\"]\",\"\").replace(/\\\"/g,\"\").split(\",\");var t=[],a=!0,o=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var i=r.value;t.push(i.split(\":\")[1])}}catch(e){o=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw n}}return t.join(\"/\")},r.tel=function(){var e=r.state.telNo;K.default.makePhoneCall({\"phoneNumber\":e})},r.config={\"navigationBarTitleText\":\"查看售后\",\"navigationBarBackgroundColor\":\"#F9482E\",\"navigationBarTextStyle\":\"white\"},r.customComponents=[\"Ellipsis\",\"AtFloatLayout\",\"AtModal\",\"AtModalContent\"],_possibleConstructorReturn(r,t)}t.default=f,Component(a(0).default.createComponent(f,!0))}},[[343,0,1,2,3]]]);","extractedComments":[]}