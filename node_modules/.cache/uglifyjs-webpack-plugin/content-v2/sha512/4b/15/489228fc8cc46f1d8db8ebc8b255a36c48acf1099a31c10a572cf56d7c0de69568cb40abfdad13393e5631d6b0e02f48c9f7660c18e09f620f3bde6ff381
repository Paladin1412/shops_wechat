{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[5],{\"136\":function(e,t,n){\"use strict\";n.r(t);var r=n(66),o=n.n(r);for(var a in r)\"default\"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t.default=o.a},\"329\":function(e,t,n){e.exports=n.p+\"components/area-picker/index.wxml\"},\"521\":function(e,t,n){\"use strict\";n.r(t);n(522);var r=n(136);for(var o in r)\"default\"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o)},\"522\":function(e,t,n){\"use strict\";n(329)},\"66\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var r=function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e};function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a,i=_interopRequireDefault(n(1)),c=n(5),u=_interopRequireDefault(n(3));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var s=(function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AreaPicker,i.default.Component),r(AreaPicker,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(AreaPicker.prototype.__proto__||Object.getPrototypeOf(AreaPicker.prototype),\"_constructor\",this).call(this,e),this.state={\"range\":[[],[],[]],\"checked\":[]},this.regionDatas=[],this.$$refs=new i.default.RefsArray}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getList()}},{\"key\":\"_createData\",\"value\":function _createData(e,t,n){this.__state=e||this.state||{},this.__props=t||this.props||{},this.$prefix,this.__state.range,this.__props.children;var r=this.onFindIndex();return Object.assign(this.__state,{\"valueIndex\":r}),this.__state}}]),a=o=AreaPicker,o.$$events=[\"onChangeCity\",\"onColumnSelect\"],o.$$componentPath=\"components/area-picker/index\",a);function AreaPicker(){var e,t,s;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,AreaPicker);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=s=_possibleConstructorReturn(this,(e=AreaPicker.__proto__||Object.getPrototypeOf(AreaPicker)).call.apply(e,[this].concat(r)))).$usedState=[\"range\",\"valueIndex\",\"checked\",\"value\",\"children\"],s.dealData=function(e){s.regionDatas[0]=e.filter(function(e){return 0===e.level}),s.regionDatas[1]=e.filter(function(e){return 1===e.level}),s.regionDatas[2]=e.filter(function(e){return 2===e.level})},s.getList=function(){var r=s.props.value,e=s.state,o=e.range,a=e.checked;u.default.common.getAreaList({\"parentCode\":null,\"level\":null,\"pageNo\":0,\"pageSize\":5e4}).then(function(e){if(e){var t=e.records;if(s.dealData(c.Common.clone(t)),Array.isArray(r)&&r.length){var n=void 0;r.forEach(function(t,e){o[e]=0===e?s.regionDatas[0]:s.onFindChild(e-1,n),a[e]=o[e].find(function(e){return\"\"+e.areaCode==\"\"+t})||{},n=t})}else o[0]=s.regionDatas[0],o[1]=s.onFindChild(0,o[0][0].areaCode),o[2]=s.onFindChild(1,o[1][0].areaCode),a.push(o[0][0],o[1][0],o[2][0]);s.setState({\"checked\":a,\"range\":o})}}).catch(function(e){throw e})},s.onFindChild=function(e,t){var n=e+1;return s.regionDatas[n]&&s.regionDatas[n].filter(function(e){return t&&\"\"+e.parentCode==\"\"+t})},s.onFindIndex=function(){var e=s.props.value,n=s.state.range,r=void 0;return Array.isArray(e)&&e.length&&(r=[],e.forEach(function(t,e){r.push(n[e].findIndex(function(e){return t&&\"\"+e.areaCode==\"\"+t}))})),r},s.onChangeCity=function(e){s.props.onChange;s.props.onChange(e,s.state.checked)},s.onColumnSelect=function(e){var t=e.detail,n=t.column,r=t.value,o=s.state,a=o.range,i=o.checked,c=a[n][r],u=i[n]=c;new Array(a.length-n-1).fill(\"\").forEach(function(e,t){a[n+t+1]&&(a[n+t+1]=s.onFindChild(n+t,u.areaCode),u=a[n+t+1][0],i[n+t+1]=u)}),s.setState({\"checked\":i,\"range\":a})},s.customComponents=[],_possibleConstructorReturn(s,t)}t.default=s,Component(n(1).default.createComponent(s))}},[[521,0,1,2,3]]]);","extractedComments":[]}