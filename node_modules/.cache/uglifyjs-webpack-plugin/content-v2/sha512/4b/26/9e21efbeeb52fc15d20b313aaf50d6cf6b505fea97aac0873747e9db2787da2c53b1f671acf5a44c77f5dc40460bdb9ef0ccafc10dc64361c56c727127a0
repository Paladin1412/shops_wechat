{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[61],{\"112\":function(e,t,o){\"use strict\";o.r(t);var n=o(37),r=o.n(n);for(var a in n)\"default\"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t.default=r.a},\"192\":function(e,t,o){e.exports=o.p+\"pages/my-order/my-order.wxml\"},\"328\":function(e,t,o){\"use strict\";o.r(t);o(329);var n=o(112);for(var r in n)\"default\"!==r&&function(e){o.d(t,e,function(){return n[e]})}(r)},\"329\":function(e,t,o){\"use strict\";o(192)},\"330\":function(e,t,o){e.exports={\"order_content\":\"my-order-module__order_content___3xKQg\",\"after_tab\":\"my-order-module__after_tab___346kG\",\"tab_style\":\"my-order-module__tab_style___1bGtb\",\"product_box\":\"my-order-module__product_box___1hmlf\",\"title\":\"my-order-module__title___3A2Q5\",\"font\":\"my-order-module__font___1JDfL\",\"status_box\":\"my-order-module__status_box___jkZD4\",\"red\":\"my-order-module__red___9UZ1c\",\"info_box\":\"my-order-module__info_box___1iFRg\",\"img\":\"my-order-module__img___1AqCb\",\"info_right\":\"my-order-module__info_right___1HTHD\",\"item_line_container\":\"my-order-module__item_line_container___x9jLk\",\"item_line\":\"my-order-module__item_line___1Ibsb\",\"info_title\":\"my-order-module__info_title___3gihT\",\"num\":\"my-order-module__num___1KLA8\",\"recv\":\"my-order-module__recv___5RGHC\",\"second\":\"my-order-module__second___3Yvhm\",\"all_price\":\"my-order-module__all_price___2V_tg\",\"all_num\":\"my-order-module__all_num___3yGXM\",\"bottom_box\":\"my-order-module__bottom_box___1CF-J\",\"button_box\":\"my-order-module__button_box___1Tw_j\",\"button\":\"my-order-module__button___jnnHk\",\"wuliu\":\"my-order-module__wuliu___3t2Fo\",\"shouhuo\":\"my-order-module__shouhuo___3De_e\",\"gray_button\":\"my-order-module__gray_button___Y_0ky\",\"clock_box\":\"my-order-module__clock_box___Ju6zU\",\"list_content\":\"my-order-module__list_content___CzUua\",\"buy_type_box\":\"my-order-module__buy_type_box___3BsAZ\",\"item\":\"my-order-module__item___3-nCe\",\"active\":\"my-order-module__active___kpSn2\",\"grid_empty\":\"my-order-module__grid_empty___XStSb\",\"to_buy_button\":\"my-order-module__to_buy_button___1SS4V\",\"scroll_content\":\"my-order-module__scroll_content___2vYBd\",\"scroll_content_def\":\"my-order-module__scroll_content_def___3wBH3\",\"scroll_content_vip\":\"my-order-module__scroll_content_vip___1-S7X\",\"after_content\":\"my-order-module__after_content___39NZ5\",\"back\":\"my-order-module__back___2_eY5\",\"after_Amount\":\"my-order-module__after_Amount___2hwXR\"}},\"37\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var U=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(o.push(u.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},n=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r,a,u,E=o(0),H=_interopRequireDefault(E),i=o(3),l=_interopRequireDefault(o(1)),s=o(4),m=_interopRequireDefault(o(2)),K=_interopRequireDefault(o(330));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var q=s.appUtils.getFileUrl,B=s.appUtils.formatPoint,V=s.appUtils.getOrderStatus,J=s.appUtils.getAfterStatus,_=(0,l.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MyOrder,H.default.Component),n(MyOrder,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if(\"value\"in n)return n.value;var a=n.get;return void 0!==a?a.call(o):void 0})(MyOrder.prototype.__proto__||Object.getPrototypeOf(MyOrder.prototype),\"_constructor\",this).call(this,e),this.state={\"type\":0,\"tabList\":[{\"title\":\"全部\",\"type\":-1},{\"title\":\"待支付\",\"type\":0},{\"title\":\"待发货\",\"type\":1},{\"title\":\"待收货\",\"type\":2},{\"title\":\"已完成\",\"type\":3},{\"title\":\"已关闭\",\"type\":4}],\"afterTab\":[{\"title\":\"全部\"},{\"title\":\"退款单\"},{\"title\":\"退货单\"},{\"title\":\"赔付单\"}],\"buyList\":[{\"title\":\"自购\",\"type\":0},{\"title\":\"分享购\",\"type\":1}],\"isLoaded\":!1,\"error\":!1,\"hasMore\":!0,\"isEmpty\":!1,\"list\":[],\"screenHeight\":\"\",\"buyType\":0,\"isShow\":!1,\"pageNum\":1,\"shopLevel\":1,\"sureModal\":!1,\"checkNo\":\"\",\"actionType\":\"\",\"actionDesc\":\"\",\"isOrder\":1,\"afterSaleNo\":\"\"},s.appUtils.delay(this,[\"onCallPay\"]),this.$$refs=new H.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=H.default.getStorageSync(\"userInfo\")||{};this.getShopMemberLevel(e.shopId)}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,o){var f=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var g=this.$prefix,n=(0,E.genCompid)(g+\"$compid__126\"),r=U(n,2),a=r[0],u=r[1],i=(0,E.genCompid)(g+\"$compid__127\"),l=U(i,2),s=l[0],_=l[1],c=(0,E.genCompid)(g+\"$compid__128\"),p=U(c,2),d=p[0],y=p[1],m=(0,E.genCompid)(g+\"$compid__129\"),h=U(m,2),v=h[0],S=h[1],b=this.__state,$=b.isLoaded,F=(b.error,b.hasMore),M=b.isEmpty,T=b.list,k=(b.screenHeight,b.type),z=b.tabList,x=(b.buyType,b.buyList),N=b.isShow,w=b.shopLevel,O=b.sureModal,D=(b.checkNo,b.actionType),A=b.actionDesc,L=(b.afterTab,b.isOrder),C=N?{\"launchEmpty\":!0}:null,P=N?K.default.scroll_content+\" \"+(2<=w?1===L&&K.default.scroll_content_vip:1===L&&K.default.scroll_content_def)+\" \"+(2===L&&K.default.after_content):null;this.anonymousFunc7=function(){return f.setState({\"sureModal\":!1})},this.anonymousFunc8=function(){return f.setState({\"sureModal\":!1})},this.anonymousFunc9=function(){return f.setaction()};var R=2<=w&&1===L?x.map(function(e,t){e={\"$original\":(0,E.internal_get_original)(e)};var o=2<=w&&1===L?t+1:null,n=\"gdzzz\"+t;return f.anonymousFunc0Map[n]=function(){return f.setType(e.$original.type)},{\"$loopState__temp2\":o,\"_$indexKey\":n,\"$original\":e.$original}}):[],j=N?T.map(function(e,t){e={\"$original\":(0,E.internal_get_original)(e)};var o=2===L?t+1:null,n=2===L?H.default.getStorageSync(\"userInfo\").shopName:null,r=2===L?J({\"afterSaleStatus\":e.$original.afterSaleStatus,\"afterSaleType\":e.$original.afterSaleType}):null,a=\"gfzzz\"+t;f.anonymousFunc1Map[a]=function(){return f.goAfter(e.$original.afterSaleNo)};var u=2===L?q(e.$original.skuImg):null,i=2===L?f.getProps(e.$original.propsValue):null,l=2===L?(0,E.internal_inline_style)({\"marginTop\":\"10px\"}):null,s=2===L?B(e.$original.agentUnitPrice*e.$original.afterSaleCount,4):null,_=\"ggzzz\"+t;f.anonymousFunc2Map[_]=function(){return f.setState({\"sureModal\":!0,\"afterSaleNo\":e.$original.afterSaleNo,\"actionType\":\"取消\",\"actionDesc\":\"您仅能主动取消一次，取消后将不能再主动取消，且超出保障期无法再次发起售后\"})};var c=\"ghzzz\"+t;f.anonymousFunc3Map[c]=function(){return f.goAfter(e.$original.afterSaleNo)};var p=(0,E.genCompid)(g+\"hbzzzzzzzz\"+t,!0),d=U(p,2),y=d[0],m=d[1];return N&&E.propsManager.set({\"count\":1},m,y),{\"$loopState__temp6\":o,\"$loopState__temp8\":n,\"$loopState__temp10\":r,\"_$indexKey2\":a,\"$loopState__temp12\":u,\"$loopState__temp14\":i,\"$loopState__temp16\":l,\"$loopState__temp18\":s,\"_$indexKey3\":_,\"_$indexKey4\":c,\"$compid__124\":m,\"$original\":e.$original}}):[],I=N?T.map(function(e,t){e={\"$original\":(0,E.internal_get_original)(e)};var o=1===L?t+1:null,n=1===L?H.default.getStorageSync(\"userInfo\").shopName:null,r=1===L?V({\"afterSale\":e.$original.afterSale,\"afterSaleStatus\":e.$original.afterSaleStatus,\"orderStatus\":e.$original.orderStatus,\"afterSaleType\":e.$original.afterSaleType}):null,a=\"gizzz\"+t;f.anonymousFunc4Map[a]=function(){return f.goDetail({\"orderNo\":e.$original.orderNo,\"afterSaleNo\":e.$original.afterSaleNo,\"orderSource\":e.$original.orderSource})};var u=1===L?q(e.$original.skuImg):null,i=1===L?f.getProps(e.$original.propsValue):null,l=1===L?B(e.$original.agentUnitPrice*e.$original.count,4):null,s=\"gjzzz\"+t;f.anonymousFunc5Map[s]=function(){return f.onCallPay(e.$original.orderNo)};var _=\"hazzz\"+t;f.anonymousFunc6Map[_]=function(){return f.setState({\"sureModal\":!0,\"checkNo\":e.$original.orderNo,\"actionType\":\"收货\"})};var c=(0,E.genCompid)(g+\"hczzzzzzzz\"+t,!0),p=U(c,2),d=p[0],y=p[1];return N&&E.propsManager.set({\"count\":1},y,d),{\"$loopState__temp20\":o,\"$loopState__temp22\":n,\"$loopState__temp24\":r,\"_$indexKey5\":a,\"$loopState__temp26\":u,\"$loopState__temp28\":i,\"$loopState__temp30\":l,\"_$indexKey6\":s,\"_$indexKey7\":_,\"$compid__125\":y,\"$original\":e.$original}}):[];return 1===L&&E.propsManager.set({\"current\":k,\"scroll\":!0,\"tabList\":z,\"onClick\":this.handleClick},u,a),N&&E.propsManager.set({\"isLoaded\":$,\"hasMore\":F,\"isEmpty\":M,\"launch\":C,\"onScrollToLower\":this.onScrollToLower,\"onPullDownRefresh\":this.onPullDownRefresh,\"className\":P},_,s),N&&E.propsManager.set({\"msg\":\"暂无订单数据\",\"type\":1},y,d),E.propsManager.set({\"isOpened\":O,\"title\":\"取消\"!==D&&\"确定\"+D+\"吗\",\"cancelText\":\"再想想\",\"confirmText\":\"确定\",\"onClose\":this.anonymousFunc7,\"onCancel\":this.anonymousFunc8,\"onConfirm\":this.anonymousFunc9,\"content\":\"取消\"===D&&A},S,v),this.$$refs.pushRefs([{\"type\":\"component\",\"id\":\"gezzz\",\"refName\":\"\",\"fn\":function fn(e){return f.scrollV=e}}]),Object.assign(this.__state,{\"anonymousState__temp3\":C,\"anonymousState__temp4\":P,\"loopArray49\":R,\"loopArray50\":j,\"loopArray51\":I,\"$compid__126\":u,\"$compid__127\":_,\"$compid__128\":y,\"$compid__129\":S,\"styles\":K.default}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return this.anonymousFunc0Map[e]&&(t=this.anonymousFunc0Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return this.anonymousFunc1Map[e]&&(t=this.anonymousFunc1Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return this.anonymousFunc2Map[e]&&(t=this.anonymousFunc2Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return this.anonymousFunc3Map[e]&&(t=this.anonymousFunc3Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return this.anonymousFunc4Map[e]&&(t=this.anonymousFunc4Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return this.anonymousFunc5Map[e]&&(t=this.anonymousFunc5Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return this.anonymousFunc6Map[e]&&(t=this.anonymousFunc6Map)[e].apply(t,n)}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}}]),u=a=MyOrder,a.$$events=[\"anonymousFunc0\",\"goIndex\",\"anonymousFunc1\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\"],a.$$componentPath=\"pages/my-order/my-order\",r=u))||r;function MyOrder(){var e,t,y;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,MyOrder);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=y=_possibleConstructorReturn(this,(e=MyOrder.__proto__||Object.getPrototypeOf(MyOrder)).call.apply(e,[this].concat(n)))).$usedState=[\"anonymousState__temp3\",\"anonymousState__temp4\",\"loopArray49\",\"loopArray50\",\"loopArray51\",\"$compid__126\",\"$compid__127\",\"$compid__128\",\"$compid__129\",\"styles\",\"shopLevel\",\"isOrder\",\"buyType\",\"buyList\",\"isShow\",\"list\",\"type\",\"tabList\",\"afterTab\",\"isLoaded\",\"error\",\"hasMore\",\"isEmpty\",\"screenHeight\",\"pageNum\",\"sureModal\",\"checkNo\",\"actionType\",\"actionDesc\",\"afterSaleNo\"],y.getData=function(e){var t=e.pageNum,o=void 0===t?1:t,n=e.pageSize,r=void 0===n?4:n,a=e.callback,u=y.state,i=u.buyType,l=u.type,s=u.list,_=u.tabList,c=u.isOrder,p=0===l?\"\":_[l].type,d={};d=6===l?{\"pageNum\":o,\"pageSize\":r,\"queryAfterSale\":6===l,\"invite\":1===i}:{\"pageNum\":o,\"pageSize\":r,\"orderStatus\":p,\"invite\":1===i},2===c&&(d={\"pageNum\":o,\"pageSize\":r,\"status\":l}),(2===c?m.default.order.afterList(d):m.default.order.queryList(d)).then(function(e){if(e){var t=s.concat(e.list);y.setState({\"isLoaded\":!0,\"isShow\":!0,\"list\":t,\"hasMore\":e.hasNextPage,\"pageNum\":o,\"isEmpty\":t.length<=0},function(){a&&a()})}})},y.onScrollToLower=function(e){var t=y.state.pageNum;t++,y.getData({\"pageNum\":t,\"callback\":e})},y.onPullDownRefresh=function(e){y.setState({\"list\":[]},function(){return y.getData({\"callback\":e})})},y.getShopMemberLevel=function(e){var t=y.$router.params.index,o=void 0===t?0:t,n=y.$router.params.isOrder,r=void 0===n?1:n;m.default.order.getShopMemberLevelInfo({\"shopId\":e}).then(function(e){e&&y.setState({\"shopLevel\":e.memberLevel,\"type\":Number(o),\"isOrder\":Number(r)},function(){return y.getData({})})})},y.setaction=function(){var e=y.state.actionType;\"删除\"===e?y.deleteOrder():\"收货\"===e?y.receivedOrder():\"取消\"===e&&y.cancelAfter()},y.cancelAfter=function(){var e=y.state.afterSaleNo;m.default.order.cancelAfter({\"afterSaleNo\":e}).then(function(e){y.setState({\"sureModal\":!1}),e&&(i.message.success(\"已取消\"),H.default.navigateTo({\"url\":\"/pages/my-order/my-order?t=\"+(new Date).getTime()+\"&isOrder=2\"}))})},y.deleteOrder=function(){var e=y.state.checkNo,t=y.$router.params.index;m.default.order.deleteOrder({\"orderNo\":e}).then(function(e){y.setState({\"sureModal\":!1}),e&&(i.message.success(\"已删除\"),H.default.navigateTo({\"url\":\"/pages/my-order/my-order?t=\"+(new Date).getTime()+\"&index=\"+t}))})},y.receivedOrder=function(e){var t=y.state.checkNo;m.default.order.receivedOrder({\"orderNo\":t}).then(function(e){!0===e&&(y.setState({\"sureModal\":!1}),i.message.success(\"已收货\"),setTimeout(function(){H.default.navigateTo({\"url\":\"/pages/my-order/my-order?t=\"+(new Date).getTime()+\"&index=3\"})},500))})},y.handleClick=function(e){y.setState({\"isShow\":!1,\"type\":e,\"list\":[]},function(){return y.getData({})})},y.goDetail=function(e){var t=e.orderNo,o=e.afterSaleNo,n=e.orderSource,r=void 0===n?3:n,a=y.state,u=a.buyType,i=a.shopLevel;if(1===u)return!1;H.default.navigateTo({\"url\":\"/pages/order-detail/order-detail?orderNo=\"+t+\"&afterSaleNo=\"+o+\"&shopLevel=\"+i+\"&orderSource=\"+r})},y.goAfter=function(e){H.default.navigateTo({\"url\":\"/pages/aftersales-detail/aftersales-detail?afterSaleNo=\"+e})},y.setType=function(e){y.setState({\"buyType\":e,\"type\":0,\"isShow\":!1,\"list\":[]},function(){return y.getData({})})},y.goIndex=function(){var e=H.default.getStorageSync(\"userInfo\").companyId;H.default.switchTab({\"url\":\"/pages/index/index?companyId=\"+e})},y.goRefund=function(e,t){var o=y.state.shopLevel;H.default.navigateTo({\"url\":\"/pages/after-sales/after-sales?type=\"+e+\"&orderNo=\"+t+\"&shopLevel=\"+o})},y.onCallPay=function(e){s.orderPay.Opay(y,e)},y.getProps=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"\";e=e.replace(\"[\",\"\").replace(\"]\",\"\").replace(/\\\"/g,\"\").split(\",\");var t=[],o=!0,n=!1,r=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var i=a.value;t.push(i.split(\":\")[1])}}catch(e){n=!0,r=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw r}}return t.join(\"/\")},y.config={\"navigationBarTitleText\":\"我的订单\",\"enablePullDownRefresh\":!1,\"navigationBarBackgroundColor\":\"#F7F8FA\"},y.anonymousFunc0Map={},y.anonymousFunc1Map={},y.anonymousFunc2Map={},y.anonymousFunc3Map={},y.anonymousFunc4Map={},y.anonymousFunc5Map={},y.anonymousFunc6Map={},y.customComponents=[\"AtTabs\",\"ListView\",\"Empty\",\"Ellipsis\",\"AtModal\"],_possibleConstructorReturn(y,t)}t.default=_,Component(o(0).default.createComponent(_,!0))}},[[328,0,1,2,3]]]);","extractedComments":[]}