{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[55],{\"118\":function(e,t,n){\"use strict\";n.r(t);var o=n(43),i=n.n(o);for(var r in o)\"default\"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t.default=i.a},\"198\":function(e,t,n){e.exports=n.p+\"pages/invitecode/invitecode.wxml\"},\"346\":function(e,t,n){\"use strict\";n.r(t);n(347);var o=n(118);for(var i in o)\"default\"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i)},\"347\":function(e,t,n){\"use strict\";n(198)},\"348\":function(e,t,n){e.exports={\"invite_box\":\"invitecode-module__invite_box___2KlXp\",\"invite_code\":\"invitecode-module__invite_code___1eKTX\",\"info_box\":\"invitecode-module__info_box___xGYI3\",\"info_insert_code\":\"invitecode-module__info_insert_code___3PqvO\",\"btn_bind\":\"invitecode-module__btn_bind___3VsUP\",\"invite\":\"invitecode-module__invite___2M_X6\",\"invite_img\":\"invitecode-module__invite_img___A4iZt\",\"invite_info\":\"invitecode-module__invite_info___3btiE\",\"invite_show_code\":\"invitecode-module__invite_show_code___31t7H\",\"go\":\"invitecode-module__go___Nld2v\",\"btn_bind1\":\"invitecode-module__btn_bind1___2e4Qo\",\"info_insert\":\"invitecode-module__info_insert___2tfr_\",\"gray_btn\":\"invitecode-module__gray_btn___3ER8t\",\"pass_btn\":\"invitecode-module__pass_btn___3QClw\"}},\"43\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var o=function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e};function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,r,a,_=n(0),u=_interopRequireDefault(_),s=_interopRequireDefault(n(1)),d=_interopRequireDefault(n(2)),l=_interopRequireDefault(n(348));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var c=(0,s.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Invitecode,u.default.Component),o(Invitecode,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,n)}if(\"value\"in o)return o.value;var r=o.get;return void 0!==r?r.call(n):void 0})(Invitecode.prototype.__proto__||Object.getPrototypeOf(Invitecode.prototype),\"_constructor\",this).call(this,e),this.state={\"info\":{},\"mark\":this.$router.params.mark||\"\",\"code\":this.$router.params.mark||\"\"},this.$$refs=new u.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=this.state.code;e&&this.getBind(e)}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,n){var o=this;this.__state=e||this.state||{},this.__props=t||this.props||{},this.$prefix;var i=this.__state,r=i.info,a=(i.code,i.mark,0<Object.keys(r).length?(0,_.internal_inline_style)({\"backgroundImage\":\"url(\"+r.icon+\")\"}):null);this.anonymousFunc0=function(){return o.bind({})},this.anonymousFunc1=function(){return o.bind({\"type\":1})};var u=0<Object.keys(r).length,s=0==Object.keys(r).length,c=0<Object.keys(r).length;return Object.assign(this.__state,{\"anonymousState__temp\":a,\"anonymousState__temp2\":u,\"anonymousState__temp3\":s,\"anonymousState__temp4\":c,\"styles\":l.default}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}}]),a=r=Invitecode,r.$$events=[\"getCode\",\"anonymousFunc0\",\"anonymousFunc1\"],r.$$componentPath=\"pages/invitecode/invitecode\",i=a))||i;function Invitecode(){var e,t,c;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Invitecode);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=c=_possibleConstructorReturn(this,(e=Invitecode.__proto__||Object.getPrototypeOf(Invitecode)).call.apply(e,[this].concat(o)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"anonymousState__temp3\",\"anonymousState__temp4\",\"styles\",\"code\",\"mark\",\"info\",\"globalStore\"],c.bind=function(e){var t=e.type,n=void 0===t?2:t,o=c.state,i=o.code,r=o.mark,a=c.props.globalStore.data.userInfo,u=c.$router.params.shopId||a.shopId,s=i||r;d.default.login.bindShopMemberInvUser({\"shopId\":u,\"invitationCode\":2===n?s:\"\"}).then(function(e){c.logger({\"logs\":\"绑定邀请码\",\"api_url\":\"/userservice/shopMember/bindShopMemberInvUser\",\"api_req\":JSON.stringify({\"shopId\":u,\"invitationCode\":2===n?s:\"\"}),\"api_res\":JSON.stringify(e)}),e&&c.resetCompanyInfo(u)})},c.resetCompanyInfo=function(t){var n=c.props.globalStore,o=n.data.userInfo;d.default.common.refreshUserToken({\"shopId\":t}).then(function(e){c.logger({\"logs\":\"绑定店铺后，更新缓存的店铺信息\",\"api_url\":\"/userservice/shopMember/refreshUserToken\",\"api_req\":JSON.stringify({\"shopId\":t}),\"api_res\":JSON.stringify(e)}),e&&(o.companyId=e.companyId,o.shopId=e.shopId,o.shopName=e.shopName,o.companyName=e.companyName,n.setData(\"userInfo\",o,\"invitecode.jsx,line:63\"),u.default.switchTab({\"url\":\"/pages/index/index\"}))})},c.getBind=function(e){d.default.login.getInviterInfo({\"invitationCode\":e,\"shopId\":u.default.getStorageSync(\"userInfo\").shopId}).then(function(e){e&&(e.icon=e.icon||\"https://jxkcdn.jingxiaokang.com/assets/images/1584440832408_8101.png\",c.setState({\"info\":e}))})},c.getCode=function(e){c.setState({\"code\":e.detail.value,\"info\":{}},function(){c.getBind(e.detail.value)})},c.config={\"navigationBarTitleText\":\"康小铺注册\"},c.customComponents=[],_possibleConstructorReturn(c,t)}t.default=c,Component(n(0).default.createComponent(c,!0))}},[[346,0,1,2,3]]]);","extractedComments":[]}