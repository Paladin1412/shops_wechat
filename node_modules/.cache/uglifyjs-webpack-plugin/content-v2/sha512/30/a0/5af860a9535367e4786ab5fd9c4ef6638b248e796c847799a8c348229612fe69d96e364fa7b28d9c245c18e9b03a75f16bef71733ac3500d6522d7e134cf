{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[43],{\"110\":function(e,t,o){\"use strict\";o.r(t);var n=o(41),a=o.n(n);for(var r in n)\"default\"!==r&&function(e){o.d(t,e,function(){return n[e]})}(r);t.default=a.a},\"183\":function(e,t,o){e.exports=o.p+\"pages/after-sales/after-sales.wxml\"},\"41\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var _e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],n=!0,a=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(o.push(s.value),!t||o.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},n=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,r,s,le=o(1),ce=_interopRequireDefault(le),i=_interopRequireDefault(o(2)),u=_interopRequireDefault(o(3)),pe=_interopRequireDefault(o(445)),fe=o(4);function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var _=(0,i.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AfterSales,ce.default.Component),n(AfterSales,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,o)}if(\"value\"in n)return n.value;var r=n.get;return void 0!==r?r.call(o):void 0})(AfterSales.prototype.__proto__||Object.getPrototypeOf(AfterSales.prototype),\"_constructor\",this).call(this,e),this.state={\"tuiModal\":!1,\"tuiOption\":[],\"checkTuiType\":\"\",\"reasonModalOption\":[{\"label\":\"质量问题\",\"value\":1},{\"label\":\"实物与图片不符\",\"value\":2},{\"label\":\"七天无理由\",\"value\":3},{\"label\":\"其他\",\"value\":4}],\"reasonModal\":!1,\"checkReasonType\":null,\"postFile\":[],\"item\":{},\"remarks\":\"\"},this.$$refs=new ce.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=this,t=this.$router.params,o=t.orderNo,n=t.type,a=2===Number(n)?[{\"label\":\"退货退款\",\"value\":2}]:[{\"label\":\"仅退款\",\"value\":1}];this.setState({\"tuiOption\":a,\"type\":Number(n),\"checkTuiType\":Number(n)},function(){e.queryDetail(o)})}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,o){var n=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var a=this.$prefix,r=(0,le.genCompid)(a+\"$compid__97\"),s=_e(r,2),i=s[0],u=s[1],_=(0,le.genCompid)(a+\"$compid__98\"),l=_e(_,2),c=l[0],p=l[1],f=(0,le.genCompid)(a+\"$compid__99\"),m=_e(f,2),d=m[0],y=m[1],h=(0,le.genCompid)(a+\"$compid__100\"),b=_e(h,2),g=b[0],v=b[1],x=(0,le.genCompid)(a+\"$compid__101\"),S=_e(x,2),k=S[0],$=S[1],C=(0,le.genCompid)(a+\"$compid__102\"),M=_e(C,2),T=M[0],O=M[1],w=(0,le.genCompid)(a+\"$compid__103\"),R=_e(w,2),A=R[0],P=R[1],F=(0,le.genCompid)(a+\"$compid__104\"),D=_e(F,2),I=D[0],j=D[1],N=(0,le.genCompid)(a+\"$compid__105\"),W=_e(N,2),q=W[0],z=W[1],L=(0,le.genCompid)(a+\"$compid__106\"),E=_e(L,2),U=E[0],V=E[1],J=this.__state,X=J.tuiModal,B=J.tuiOption,H=J.checkTuiType,K=J.reasonModal,Z=J.checkReasonType,G=J.reasonModalOption,Q=(J.files,J.item),Y=J.remarks,ee=J.type,te=this.$router.params.shopLevel;te=Number(te);var oe=ce.default.getStorageSync(\"userInfo\").shopName,ne=(0,fe.getFileUrl)(Q.skuImg),ae=(0,fe.formatPoint)(Q.skuPrice*Q.count),re=1===ee?B[B.findIndex(function(e){return e.value===H})].label||\"请选择类型\":null,se=2===ee?B[B.findIndex(function(e){return e.value===H})].label||\"请选择类型\":null,ie=\"￥\"+(0,fe.formatPoint)(Q.skuPrice*Q.count),ue=Z?G[G.findIndex(function(e){return e.value===Z})].label:\"请选择原因\";return this.anonymousFunc0=function(e){n.setState({\"remarks\":e.target.value})},this.anonymousFunc1=function(){return n.setState({\"mask\":!0})},1===ee&&le.propsManager.set({\"title\":\"退款类型\",\"extraText\":re},u,i),2===ee&&le.propsManager.set({\"title\":\"申请类型\",\"extraText\":se},p,c),le.propsManager.set({\"title\":\"退款金额\",\"extraText\":ie},y,d),le.propsManager.set({\"title\":\"退款原因\",\"onClick\":this.reasonClick,\"arrow\":\"down\",\"extraText\":ue},v,g),le.propsManager.set({\"value\":Y,\"onChange\":this.anonymousFunc0,\"maxLength\":200,\"onBlur\":this.scroll,\"placeholder\":\"\"},$,k),2===ee&&le.propsManager.set({\"onRemove\":this.removeWx,\"onSuccess\":this.successWx,\"onClick\":this.anonymousFunc1,\"size\":5},O,T),le.propsManager.set({\"isOpened\":X,\"title\":\"退款类型\",\"onClose\":this.handleClose},P,A),le.propsManager.set({\"options\":B,\"value\":H,\"onClick\":this.changetuiModal},j,I),le.propsManager.set({\"isOpened\":K,\"title\":\"退款原因\",\"onClose\":this.reasonModalClose},z,q),le.propsManager.set({\"options\":G,\"value\":Z,\"onClick\":this.changereasonModal},V,U),this.$$refs.pushRefs([{\"type\":\"component\",\"id\":\"fhzzz\",\"refName\":\"\",\"fn\":function fn(e){return n.wxup=e}}]),Object.assign(this.__state,{\"anonymousState__temp\":oe,\"anonymousState__temp2\":ne,\"anonymousState__temp3\":ae,\"anonymousState__temp4\":re,\"anonymousState__temp5\":se,\"anonymousState__temp6\":ie,\"anonymousState__temp7\":ue,\"$compid__97\":u,\"$compid__98\":p,\"$compid__99\":y,\"$compid__100\":v,\"$compid__101\":$,\"$compid__102\":O,\"$compid__103\":P,\"$compid__104\":j,\"$compid__105\":z,\"$compid__106\":V,\"styles\":pe.default,\"shopLevel\":te,\"type\":ee}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}}]),s=r=AfterSales,r.$$events=[\"goIndex\",\"goResult\",\"handleClose\",\"reasonModalClose\"],r.$$componentPath=\"pages/after-sales/after-sales\",a=s))||a;function AfterSales(){var e,t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,AfterSales);for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=i=_possibleConstructorReturn(this,(e=AfterSales.__proto__||Object.getPrototypeOf(AfterSales)).call.apply(e,[this].concat(n)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"anonymousState__temp3\",\"anonymousState__temp4\",\"anonymousState__temp5\",\"anonymousState__temp6\",\"anonymousState__temp7\",\"$compid__97\",\"$compid__98\",\"$compid__99\",\"$compid__100\",\"$compid__101\",\"$compid__102\",\"$compid__103\",\"$compid__104\",\"$compid__105\",\"$compid__106\",\"styles\",\"shopLevel\",\"type\",\"remarks\",\"checkTuiType\",\"checkReasonType\",\"item\",\"tuiModal\",\"tuiOption\",\"reasonModalOption\",\"reasonModal\",\"postFile\"],i.tuiClick=function(){i.setState({\"tuiModal\":!0})},i.handleClose=function(){i.setState({\"tuiModal\":!1})},i.changetuiModal=function(e){i.setState({\"checkTuiType\":e})},i.reasonClick=function(){i.setState({\"reasonModal\":!0})},i.reasonModalClose=function(){i.setState({\"reasonModal\":!1})},i.changereasonModal=function(e){i.setState({\"checkReasonType\":e})},i.goResult=function(){var e=i.$router.params.orderNo,t=i.state,o=t.checkTuiType,n=t.postFile,a=t.checkReasonType,r=t.remarks,s=t.item;u.default.order.creatAfter({\"afterSaleType\":o,\"imgs\":n.join(\",\"),\"orderNo\":e,\"reason\":a,\"remarks\":r,\"scmOrderNo\":s.scmOrderNo}).then(function(e){e&&ce.default.navigateTo({\"url\":\"/pages/sub-result/sub-result\"})})},i.removeWx=function(e){var t=i.state.postFile;t.splice(e,1),i.setState({\"postFile\":t})},i.successWx=function(e){var t=i.state.postFile;t.push(e),i.setState({\"postFile\":t})},i.queryDetail=function(e){u.default.order.queryDetail({\"orderNo\":e}).then(function(e){e&&(e.propsValue=i.getProps(JSON.parse(e.propsValue)),i.setState({\"item\":e}))})},i.goIndex=function(){var e=ce.default.getStorageSync(\"userInfo\").companyId;ce.default.navigateTo({\"url\":\"/pages/index/index?companyId=\"+e})},i.getProps=function(){var o=[];return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e,t){o.push(e.propertyValue)}),o.join(\"/\")},i.scroll=function(){window.scroll(0,0)},i.config={\"navigationBarTitleText\":\"申请售后\"},i.customComponents=[\"AtList\",\"AtListItem\",\"AtTextarea\",\"Upload\",\"AtFloatLayout\",\"AtRadio\"],_possibleConstructorReturn(i,t)}t.default=_,Component(o(1).default.createComponent(_,!0))},\"443\":function(e,t,o){\"use strict\";o.r(t);o(444);var n=o(110);for(var a in n)\"default\"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a)},\"444\":function(e,t,o){\"use strict\";o(183)},\"445\":function(e,t,o){e.exports={\"content\":\"after-sales-module__content___3KWuc\",\"back\":\"after-sales-module__back___2dFcI\",\"product_box\":\"after-sales-module__product_box___3-_Rd\",\"title\":\"after-sales-module__title___34bM6\",\"font\":\"after-sales-module__font___1WWVv\",\"status_box\":\"after-sales-module__status_box___y_PMk\",\"red\":\"after-sales-module__red___3_qSg\",\"info_box\":\"after-sales-module__info_box___27xA9\",\"img\":\"after-sales-module__img___e32kT\",\"info_right\":\"after-sales-module__info_right___ewCAP\",\"info_title\":\"after-sales-module__info_title___3dF7G\",\"size_box\":\"after-sales-module__size_box___1IqPI\",\"price_box\":\"after-sales-module__price_box___1wbRn\",\"left\":\"after-sales-module__left___3EgQj\",\"num\":\"after-sales-module__num___18kKi\",\"count\":\"after-sales-module__count___1ZIMk\",\"recv\":\"after-sales-module__recv___1XDto\",\"transfee_box\":\"after-sales-module__transfee_box___14m71\",\"form_box\":\"after-sales-module__form_box___2kNOA\",\"photo_box\":\"after-sales-module__photo_box___1tZTX\",\"lable_font\":\"after-sales-module__lable_font___1U7de\",\"bottom_box\":\"after-sales-module__bottom_box___2t67O\",\"button\":\"after-sales-module__button___3172u\",\"gray_button\":\"after-sales-module__gray_button___2VzXr\",\"sure_button\":\"after-sales-module__sure_button___2uh1v\",\"line_box\":\"after-sales-module__line_box___Mhgfu\",\"label\":\"after-sales-module__label___e_ljA\",\"right\":\"after-sales-module__right___3CmCg\"}}},[[443,0,1,2,3]]]);","extractedComments":[]}