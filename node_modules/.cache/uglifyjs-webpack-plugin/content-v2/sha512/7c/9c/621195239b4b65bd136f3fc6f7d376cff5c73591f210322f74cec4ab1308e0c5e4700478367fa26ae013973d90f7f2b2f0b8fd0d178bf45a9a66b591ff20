{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[47],{\"166\":function(e,t,n){e.exports=n.p+\"pages/edit-address/edit-address.wxml\"},\"24\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var L=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e};function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r,a,i,Q=n(1),p=_interopRequireDefault(Q),s=_interopRequireDefault(n(2)),l=_interopRequireDefault(n(3)),V=_interopRequireDefault(n(394)),_=n(5);function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var u=(0,s.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(EditAddress,p.default.Component),o(EditAddress,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if(\"value\"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(EditAddress.prototype.__proto__||Object.getPrototypeOf(EditAddress.prototype),\"_constructor\",this).call(this,e),this.state={\"cityData\":[],\"isPhone\":!0,\"phone\":\"\",\"receiver\":\"\",\"isDefault\":!1,\"id\":\"\",\"house\":\"\",\"visiable\":!1},this.$$refs=new p.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=this,t=this.$router.params.id;if(!t)return!1;this.setState({\"id\":t},function(){return e.getDetail(t)})}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,n){var o=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var r=this.$prefix,a=(0,Q.genCompid)(r+\"$compid__76\"),i=L(a,2),s=i[0],u=i[1],d=(0,Q.genCompid)(r+\"$compid__77\"),c=L(d,2),p=c[0],l=c[1],_=(0,Q.genCompid)(r+\"$compid__78\"),f=L(_,2),m=f[0],h=f[1],y=(0,Q.genCompid)(r+\"$compid__79\"),v=L(y,2),g=v[0],b=v[1],$=(0,Q.genCompid)(r+\"$compid__80\"),D=L($,2),C=D[0],w=D[1],A=(0,Q.genCompid)(r+\"$compid__81\"),k=L(A,2),P=k[0],S=k[1],x=(0,Q.genCompid)(r+\"$compid__82\"),O=L(x,2),F=O[0],j=O[1],M=(0,Q.genCompid)(r+\"$compid__83\"),E=L(M,2),I=E[0],R=E[1],T=(0,Q.genCompid)(r+\"$compid__84\"),N=L(T,2),q=N[0],W=N[1],X=this.__state,U=X.cityData,B=X.phone,H=X.isPhone,J=X.receiver,Y=X.house,z=X.isDefault,Z=(X.id,X.visiable);this.anonymousFunc0=function(e){o.getInput(e,\"receiver\")};var G=!H;this.anonymousFunc1=function(e){o.getInput(e,\"phone\")};var K=U.length?U.map(function(e){return e.areaName}).join(\" / \"):\"请选择地区\";return this.anonymousFunc2=function(e){o.getInput(e,\"house\")},Z&&Q.propsManager.set({\"cancle\":this.cancle,\"ok\":this.ok,\"content\":\"是否确定删除收货地址\",\"okText\":\"确定删除\"},u,s),Q.propsManager.set({\"onSubmit\":this.onSubmit,\"onReset\":this.onReset},l,p),Q.propsManager.set({\"name\":\"receiver\",\"title\":\"收货人\",\"type\":\"text\",\"placeholder\":\"请输入\",\"value\":J,\"onChange\":this.anonymousFunc0},h,m),Q.propsManager.set({\"name\":\"phone\",\"title\":\"手机号\",\"error\":G,\"type\":\"phone\",\"placeholder\":\"请输入收货人手机号\",\"onChange\":this.anonymousFunc1,\"value\":B},b,g),Q.propsManager.set({\"name\":\"area\",\"title\":\"所在地区\",\"type\":\"text\",\"placeholder\":\"\"},w,C),Q.propsManager.set({\"onChange\":this.AreaPickerChange},S,P),Q.propsManager.set({\"name\":\"house\",\"title\":\"详细地址\",\"type\":\"text\",\"placeholder\":\"请输入街道、小区、门牌号等\",\"value\":Y,\"onChange\":this.anonymousFunc2},j,F),Q.propsManager.set({\"title\":\"设为默认地址\",\"checked\":z,\"onChange\":this.changeMoren,\"name\":\"isDefault\",\"color\":\"#FF3013\"},R,I),Q.propsManager.set({\"formType\":\"submit\"},W,q),Object.assign(this.__state,{\"anonymousState__temp\":G,\"anonymousState__temp2\":K,\"$compid__76\":u,\"$compid__77\":l,\"$compid__78\":h,\"$compid__79\":b,\"$compid__80\":w,\"$compid__81\":S,\"$compid__82\":j,\"$compid__83\":R,\"$compid__84\":W,\"styles\":V.default}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}}]),i=a=EditAddress,a.$$events=[\"delAddress\"],a.$$componentPath=\"pages/edit-address/edit-address\",r=i))||r;function EditAddress(){var e,t,c;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,EditAddress);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=c=_possibleConstructorReturn(this,(e=EditAddress.__proto__||Object.getPrototypeOf(EditAddress)).call.apply(e,[this].concat(o)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"$compid__76\",\"$compid__77\",\"$compid__78\",\"$compid__79\",\"$compid__80\",\"$compid__81\",\"$compid__82\",\"$compid__83\",\"$compid__84\",\"styles\",\"visiable\",\"isDefault\",\"id\",\"cityData\",\"isPhone\",\"phone\",\"receiver\",\"house\"],c.getDetail=function(e){l.default.address.getDetail({\"id\":e}).then(function(e){e&&c.setState({\"receiver\":e.receiver,\"phone\":e.phone,\"isDefault\":e.isDefault,\"house\":e.house,\"area\":e.province+\"/\"+e.city+\"/\"+e.area,\"cityData\":[{\"areaName\":e.province,\"areaCode\":e.provinceId},{\"areaName\":e.city,\"areaCode\":e.cityId},{\"areaName\":e.area,\"areaCode\":e.areaId}]})})},c.onSubmit=function(e){var t=c.state,n=t.isPhone,o=t.isDefault,r=t.cityData,a=t.id,i=t.receiver,s=t.phone,u=t.house;if(i)if(n&&s)if(r.length<3)_.message.error(\"请选择正确的省市区\");else if(u){var d={\"id\":a||\"\",\"receiver\":i,\"phone\":s,\"provinceId\":r[0].areaCode,\"province\":r[0].areaName,\"cityId\":r[1].areaCode,\"city\":r[1].areaName,\"areaId\":r[2].areaCode,\"area\":r[2].areaName,\"isDefault\":o,\"house\":u};l.default.address.addAddress(d).then(function(e){e&&(_.message.success(a?\"修改成功\":\"添加成功\"),setTimeout(function(){var e=c.$router.params;delete e.id;var t=\"?\";for(var n in e)t+=n+\"=\"+e[n];p.default.navigateTo({\"url\":\"/pages/address/address\"+t})},1e3))})}else _.message.error(\"请填详细的地址\");else _.message.error(\"请填写正确的手机号码\");else _.message.error(\"请填写收件人\")},c.changeMoren=function(e){c.setState({\"isDefault\":e})},c.getInput=function(e,t){c.setState(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{\"value\":n,\"enumerable\":!0,\"configurable\":!0,\"writable\":!0}):e[t]=n,e}({},t,e),function(){\"phone\"===t&&c.setState({\"isPhone\":/^1\\d{10}$/.test(e)})})},c.delAddress=function(){c.setState({\"visiable\":!0})},c.cancle=function(){c.setState({\"visiable\":!1})},c.ok=function(){var e=c.state.id;l.default.address.deleteAddress({\"id\":e}).then(function(e){if(e){var t=c.$router.params;delete t.id;var n=\"?\";for(var o in t)n+=o+\"=\"+t[o];p.default.navigateTo({\"url\":\"/pages/address/address\"+n})}})},c.AreaPickerChange=function(e,t){c.setState({\"cityData\":t})},c.config={\"navigationBarTitleText\":\"地址管理\"},c.customComponents=[\"Dialog\",\"AtForm\",\"AtInput\",\"AreaPicker\",\"AtSwitch\",\"AtButton\"],_possibleConstructorReturn(c,t)}t.default=u,Component(n(1).default.createComponent(u,!0))},\"392\":function(e,t,n){\"use strict\";n.r(t);n(393);var o=n(93);for(var r in o)\"default\"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r)},\"393\":function(e,t,n){\"use strict\";n(166)},\"394\":function(e,t,n){e.exports={\"edit_box\":\"edit-address-module__edit_box___3ITcY\",\"moren\":\"edit-address-module__moren___3FjyY\",\"area_content\":\"edit-address-module__area_content___yUXXq\",\"area_box\":\"edit-address-module__area_box___mNfjw\",\"show_area_box\":\"edit-address-module__show_area_box___27XWE\",\"button_box\":\"edit-address-module__button_box___X4Wz2\",\"del_address\":\"edit-address-module__del_address___2tZd8\"}},\"93\":function(e,t,n){\"use strict\";n.r(t);var o=n(24),r=n.n(o);for(var a in o)\"default\"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t.default=r.a}},[[392,0,1,2,3]]]);","extractedComments":[]}