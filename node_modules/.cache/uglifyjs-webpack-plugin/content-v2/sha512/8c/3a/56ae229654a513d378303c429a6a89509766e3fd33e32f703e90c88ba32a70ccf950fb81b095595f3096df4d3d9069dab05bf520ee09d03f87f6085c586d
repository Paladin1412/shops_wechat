{"code":"(wx.webpackJsonp=wx.webpackJsonp||[]).push([[64],{\"113\":function(e,t,o){\"use strict\";o.r(t);var n=o(38),r=o.n(n);for(var a in n)\"default\"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t.default=r.a},\"193\":function(e,t,o){e.exports=o.p+\"pages/order-detail/order-detail.wxml\"},\"331\":function(e,t,o){\"use strict\";o.r(t);o(332);var n=o(113);for(var r in n)\"default\"!==r&&function(e){o.d(t,e,function(){return n[e]})}(r)},\"332\":function(e,t,o){\"use strict\";o(193)},\"333\":function(e,t,o){e.exports={\"container\":\"order-detail-module__container___2_Yss\",\"addres_box\":\"order-detail-module__addres_box___2DrGf\",\"icon\":\"order-detail-module__icon___3NrTW\",\"transfee_box\":\"order-detail-module__transfee_box___3v1tx\",\"label\":\"order-detail-module__label___1RJZb\",\"red\":\"order-detail-module__red___oLwB8\",\"order_info\":\"order-detail-module__order_info___3E8nu\",\"product_box\":\"order-detail-module__product_box___1OlQ4\",\"title\":\"order-detail-module__title___1XLPP\",\"icon_shop\":\"order-detail-module__icon_shop___eL-U4\",\"font\":\"order-detail-module__font___16lhS\",\"status_box\":\"order-detail-module__status_box___1tio4\",\"info_box\":\"order-detail-module__info_box___2wFFo\",\"img\":\"order-detail-module__img___rdXzP\",\"info_right\":\"order-detail-module__info_right___28pf7\",\"item_line_container\":\"order-detail-module__item_line_container___2qtsB\",\"item_line\":\"order-detail-module__item_line___1WtKI\",\"info_title\":\"order-detail-module__info_title___28VUs\",\"num\":\"order-detail-module__num___2irs4\",\"recv\":\"order-detail-module__recv___38Pnu\",\"second\":\"order-detail-module__second___hgElT\",\"all_price\":\"order-detail-module__all_price___1BMx8\",\"all_num\":\"order-detail-module__all_num___2z223\",\"clock_box\":\"order-detail-module__clock_box___3zGtk\",\"gray\":\"order-detail-module__gray___gOjXF\",\"button_box\":\"order-detail-module__button_box___19Ea8\",\"content\":\"order-detail-module__content___2_Qbj\",\"rigth\":\"order-detail-module__rigth___WV05_\",\"button\":\"order-detail-module__button___3IbzD\",\"gray_button\":\"order-detail-module__gray_button___1YPK2\",\"item\":\"order-detail-module__item___29THd\",\"left\":\"order-detail-module__left___3BTA8\",\"name_box\":\"order-detail-module__name_box___3eMvv\",\"name\":\"order-detail-module__name___1QTsd\",\"tel\":\"order-detail-module__tel___3sdsg\",\"copy_box\":\"order-detail-module__copy_box___37ESg\",\"red_back\":\"order-detail-module__red_back___2KEUg\",\"status_line\":\"order-detail-module__status_line___3a-6x\",\"desc\":\"order-detail-module__desc___3_EkQ\",\"trans_box\":\"order-detail-module__trans_box___3qLrf\",\"date\":\"order-detail-module__date___3lMig\",\"back\":\"order-detail-module__back___QS4To\",\"top_box\":\"order-detail-module__top_box___2SQtJ\",\"top_inner\":\"order-detail-module__top_inner___3cAXF\",\"go_back_icon\":\"order-detail-module__go_back_icon___3qPfN\",\"scroll_box\":\"order-detail-module__scroll_box___3fIow\"}},\"38\":function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{\"value\":!0});var M=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(o.push(u.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},n=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r,a,u,I=o(0),N=_interopRequireDefault(I),i=o(3),_=_interopRequireDefault(o(1)),l=_interopRequireDefault(o(2)),d=o(4),R=_interopRequireDefault(o(333));function _interopRequireDefault(e){return e&&e.__esModule?e:{\"default\":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var j=d.appUtils.getFileUrl,A=d.appUtils.formatPoint,q=d.appUtils.getOrderStatus,s=(0,_.default)((function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(OrderDetail,N.default.Component),n(OrderDetail,[{\"key\":\"_constructor\",\"value\":function _constructor(e){(function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if(\"value\"in n)return n.value;var a=n.get;return void 0!==a?a.call(o):void 0})(OrderDetail.prototype.__proto__||Object.getPrototypeOf(OrderDetail.prototype),\"_constructor\",this).call(this,e),this.state={\"item\":{},\"sureModal\":!1,\"actionType\":\"\",\"buttonTop\":0,\"buttonHeight\":0},this.onCallPay=i.Orderly.call(this,this.onCallPay),this.$$refs=new N.default.RefsArray}},{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=this.$router.params.orderNo;this.queryDetail(e);var t=this,o=N.default.getMenuButtonBoundingClientRect(),n=o.top,r=o.height;N.default.getSystemInfo({\"success\":function success(e){e.model,t.setState({\"buttonTop\":n,\"buttonHeight\":r})}})}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"_createData\",\"value\":function _createData(e,t,o){var n=this;this.__state=e||this.state||{},this.__props=t||this.props||{};var r=this.$prefix,a=(0,I.genCompid)(r+\"$compid__130\"),u=M(a,2),i=u[0],_=u[1],l=(0,I.genCompid)(r+\"$compid__131\"),d=M(l,2),s=d[0],c=d[1],m=(0,I.genCompid)(r+\"$compid__132\"),p=M(m,2),f=p[0],y=p[1],g=this.__state,v=g.item,h=g.sureModal,b=g.actionType,S=g.buttonTop,F=g.buttonHeight,x=this.$router.params.shopLevel;x=Number(x);var O=(0,I.internal_inline_style)({\"marginTop\":S+\"px\",\"height\":F+\"px\"});this.anonymousFunc0=function(){N.default.navigateBack(-1)};var T=(\"\"+v.receiveName).substr(.1);this.anonymousFunc1=function(){return n.copyAction(v.deliveryNo)};var k=N.default.getStorageSync(\"userInfo\").shopName,D=q({\"afterSale\":v.afterSale,\"afterSaleStatus\":v.afterSaleStatus,\"orderStatus\":v.orderStatus,\"afterSaleType\":v.afterSaleType}),P=j(v.skuImg),w=A(v.agentUnitPrice*v.count,4);this.anonymousFunc2=function(){return n.copyAction(v.orderNo)};var $=A(v.agentUnitPrice*v.count+(v.postage||0),4);this.anonymousFunc3=function(){return n.onCallPay(v.orderNo)},this.anonymousFunc4=function(){return n.goRefund(1)},this.anonymousFunc5=function(){return n.goRefund(2)},this.anonymousFunc6=function(){return n.setState({\"sureModal\":!0,\"actionType\":\"收货\"})},this.anonymousFunc7=function(){return n.goAfter(v.afterSaleNo)},this.anonymousFunc8=function(){return n.setState({\"sureModal\":!1})},this.anonymousFunc9=function(){return n.setState({\"sureModal\":!1})},this.anonymousFunc10=function(){return n.setaction()};var C=\"确定\"+b+\"吗\";return I.propsManager.set({\"count\":2},_,i),I.propsManager.set({\"count\":1},c,s),I.propsManager.set({\"isOpened\":h,\"title\":!1,\"cancelText\":\"取消\",\"confirmText\":\"是的\",\"onClose\":this.anonymousFunc8,\"onCancel\":this.anonymousFunc9,\"onConfirm\":this.anonymousFunc10,\"content\":C},y,f),Object.assign(this.__state,{\"anonymousState__temp\":O,\"anonymousState__temp2\":T,\"anonymousState__temp3\":k,\"anonymousState__temp4\":D,\"anonymousState__temp5\":P,\"anonymousState__temp6\":w,\"anonymousState__temp7\":$,\"anonymousState__temp8\":C,\"$compid__130\":_,\"$compid__131\":c,\"$compid__132\":y,\"styles\":R.default,\"shopLevel\":x}),this.__state}},{\"key\":\"anonymousFunc0\",\"value\":function anonymousFunc0(){}},{\"key\":\"anonymousFunc1\",\"value\":function anonymousFunc1(){}},{\"key\":\"anonymousFunc2\",\"value\":function anonymousFunc2(){}},{\"key\":\"anonymousFunc3\",\"value\":function anonymousFunc3(){}},{\"key\":\"anonymousFunc4\",\"value\":function anonymousFunc4(){}},{\"key\":\"anonymousFunc5\",\"value\":function anonymousFunc5(){}},{\"key\":\"anonymousFunc6\",\"value\":function anonymousFunc6(){}},{\"key\":\"anonymousFunc7\",\"value\":function anonymousFunc7(){}},{\"key\":\"anonymousFunc8\",\"value\":function anonymousFunc8(){}},{\"key\":\"anonymousFunc9\",\"value\":function anonymousFunc9(){}},{\"key\":\"anonymousFunc10\",\"value\":function anonymousFunc10(){}}]),u=a=OrderDetail,a.$$events=[\"anonymousFunc0\",\"anonymousFunc1\",\"goIndex\",\"goGoodDetail\",\"anonymousFunc2\",\"anonymousFunc3\",\"anonymousFunc4\",\"anonymousFunc5\",\"anonymousFunc6\",\"anonymousFunc7\"],a.$$componentPath=\"pages/order-detail/order-detail\",r=u))||r;function OrderDetail(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,OrderDetail);for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=r=_possibleConstructorReturn(this,(e=OrderDetail.__proto__||Object.getPrototypeOf(OrderDetail)).call.apply(e,[this].concat(n)))).$usedState=[\"anonymousState__temp\",\"anonymousState__temp2\",\"anonymousState__temp3\",\"anonymousState__temp4\",\"anonymousState__temp5\",\"anonymousState__temp6\",\"anonymousState__temp7\",\"anonymousState__temp8\",\"$compid__130\",\"$compid__131\",\"$compid__132\",\"styles\",\"item\",\"shopLevel\",\"sureModal\",\"actionType\",\"buttonTop\",\"buttonHeight\"],r.goTransDetail=function(){N.default.navigateTo({\"url\":\"/pages/logistics-detail/logistics-detail\"})},r.queryDetail=function(e){l.default.order.queryDetail({\"orderNo\":e}).then(function(e){e&&(e.propsValue=r.getProps(e.newPropsValue),r.setState({\"item\":e}))})},r.getProps=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"\";e=e.replace(\"[\",\"\").replace(\"]\",\"\").replace(/\\\"/g,\"\").split(\",\");var t=[],o=!0,n=!1,r=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var i=a.value;t.push(i.split(\":\")[1])}}catch(e){n=!0,r=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw r}}return t.join(\"/\")},r.deleteOrder=function(){var e=r.$router.params.orderNo;l.default.order.deleteOrder({\"orderNo\":e}).then(function(e){r.setState({\"sureModal\":!1}),e&&(i.message.success(\"已删除\"),setTimeout(function(){N.default.navigateTo({\"url\":\"/pages/my-order/my-order?index=4\"})},500))})},r.cancelOrder=function(){var e=r.$router.params.orderNo;l.default.order.cancelOrder({\"orderNo\":e}).then(function(e){r.setState({\"sureModal\":!1}),!0===e&&(i.message.success(\"订单已取消\"),setTimeout(function(){N.default.navigateTo({\"url\":\"/pages/my-order/my-order?index=0\"})},500))})},r.goRefund=function(e){var t=r.$router.params.orderNo,o=r.$router.params.shopLevel;N.default.navigateTo({\"url\":\"/pages/after-sales/after-sales?type=\"+e+\"&orderNo=\"+t+\"&shopLevel=\"+o})},r.goIndex=function(){var e=r.getCompanyId();N.default.switchTab({\"url\":\"/pages/index/index?companyId=\"+e})},r.goGoodDetail=function(){var e=r.state.item,t=r.$router.params.orderSource,o=void 0===t?3:t,n=r.getCompanyId();N.default.navigateTo({\"url\":\"/pages/goodsdetail/goodsdetail?agentItemId=\"+e.agentItemId+\"&itemId=\"+e.itemId+\"&companyId=\"+n+\"&orderSource=\"+(e.orderSource||o)})},r.goAfter=function(e){N.default.navigateTo({\"url\":\"/pages/aftersales-detail/aftersales-detail?afterSaleNo=\"+e})},r.setaction=function(){var e=r.state.actionType;\"删除\"===e?r.deleteOrder():\"收货\"===e?r.receivedOrder():\"取消\"===e&&r.cancelOrder()},r.receivedOrder=function(){var e=r.$router.params.orderNo;l.default.order.receivedOrder({\"orderNo\":e}).then(function(e){r.setState({\"sureModal\":!1}),!0===e&&(i.message.success(\"已收货\"),setTimeout(function(){N.default.navigateTo({\"url\":\"/pages/my-order/my-order?t=\"+(new Date).getTime()+\"&index=3\"})},500))})},r.copyAction=function(e){N.default.setClipboardData({\"data\":e,\"success\":function success(){i.message.success(\"复制成功\")}})},r.onCallPay=function(e){d.orderPay.Opay(e)},r.config={\"navigationBarTitleText\":\"我的订单\",\"navigationStyle\":\"custom\"},r.customComponents=[\"Ellipsis\",\"AtModal\"],_possibleConstructorReturn(r,t)}t.default=s,Component(o(0).default.createComponent(s,!0))}},[[331,0,1,2,3]]]);","extractedComments":[]}